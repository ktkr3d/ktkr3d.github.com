<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Linux | ktkr3d]]></title>
  <link href="http://ktkr3d.github.io/blog/categories/linux/atom.xml" rel="self"/>
  <link href="http://ktkr3d.github.io/"/>
  <updated>2013-07-14T11:36:25+09:00</updated>
  <id>http://ktkr3d.github.io/</id>
  <author>
    <name><![CDATA[ktkr3d]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Docky + Cardapio]]></title>
    <link href="http://ktkr3d.github.io/blog/2013/07/14/docky-plus-cardapio/"/>
    <updated>2013-07-14T11:11:00+09:00</updated>
    <id>http://ktkr3d.github.io/blog/2013/07/14/docky-plus-cardapio</id>
    <content type="html"><![CDATA[<p><a href="http://ktkr3d.github.io/images/docky_cardapio.png">{% img /images/docky_cardapio.png 600 %}</a></p>

<p>Ubuntu 13.10 + GNOME Shell 3.9.4 上で、Docky に移行して困ったことは、以下でした。
1. 電源ボタンが無いこと
2. アプリケーションメニューがないこと</p>

<p>Docky とCardapio の設定で上記を動くようにしてみました。</p>

<!-- more -->


<p></p>

<h4>電源ボタン</h4>

<p>一番右の「画面のロック」アイコンを右クリックすることで、「画面のロック」、「ログアウト」、「サスペンド」、「再起動」、「シャットダウン」のようなサブメニューが表示されます。
「画面のロック」のアイコン上でマウスのホイールボタンで上下にホイールすると、デフォルトの動作を指定できます。
ボタン押下後に再起動かシャットダウンかを選択させる形式がよかったのですが、とりあえずこれで良しとしましょう。</p>

<h3>アプリケーションメニュー</h3>

<p>Cardapio を使ってDocky からアプリケーションメニューを表示することにします。</p>

<p>{% codeblock %}
sudo add-apt-repository ppa:cardapio-team/unstable
sudo apt-get update
sudo apt-get install cardapio
{% endcodeblock %}</p>

<p>saucy 向けのCardapio が存在しなかったので、ソフトウェアソースをquantal 向けに切り替えてインストールしました。
cardapio を起動してみたところ、いくつかエラーが表示されたので、修正しました。</p>

<p>{% codeblock Cardapio.py.patch %}
&mdash;&ndash; ./Cardapio.py.orig  2013-07-14 10:33:26.019485000 +0900
+++ ./Cardapio.py   2013-07-14 10:39:34.683472322 +0900
@@ -52,6 +52,7 @@</p>

<pre><code>import dbus, dbus.service

from time import time
</code></pre>

<ul>
<li><p>from xdg import BaseDirectory
from xdg import DesktopEntry
from pango import ELLIPSIZE_END
from threading import Lock, Thread
@@ -453,7 +454,7 @@
    self._plugin_database[&lsquo;pinned&rsquo;] = {&lsquo;class&rsquo; : plugin_class, &lsquo;instances&rsquo; : []}</p>

<pre><code>plugin_dirs = [
</code></pre></li>
<li><pre><code>    os.path.join(DesktopEntry.xdg_config_home, 'Cardapio', 'plugins'),
</code></pre></li>
<li><pre><code>    os.path.join(BaseDirectory.xdg_config_home, 'Cardapio', 'plugins'),
    os.path.join(self.cardapio_path, 'plugins'),
    ]
</code></pre></li>
</ul>


<p>@@ -631,7 +632,7 @@</p>

<pre><code>    ~/.cache/Cardapio)
    """
</code></pre>

<ul>
<li><pre><code>self._config_folder_path = os.path.join(DesktopEntry.xdg_config_home, 'Cardapio')
</code></pre></li>
<li><pre><code>self._config_folder_path = os.path.join(BaseDirectory.xdg_config_home, 'Cardapio')

if not os.path.exists(self._config_folder_path):
    os.mkdir(self._config_folder_path)
</code></pre>

<p>@@ -640,7 +641,7 @@
        fatal_error(&lsquo;Error creating config folder!&rsquo;, &lsquo;Cannot create folder &ldquo;%s&rdquo; because a file with that name already exists!&rsquo; % self.<em>config_folder_path)
        self.</em>quit()</p></li>
<li><pre><code>self._cache_folder_path = os.path.join(DesktopEntry.xdg_cache_home, 'Cardapio')
</code></pre></li>
<li><pre><code>self._cache_folder_path = os.path.join(BaseDirectory.xdg_cache_home, 'Cardapio')

if not os.path.exists(self._cache_folder_path):
    os.mkdir(self._cache_folder_path)
</code></pre>

<p>@@ -1931,7 +1932,7 @@</p>

<pre><code>  self._add_app_button(_('Home'), 'user-home', section, 'xdg', self._home_folder_path, _('Open your personal folder'), self._app_list)
</code></pre></li>
<li><pre><code>xdg_folders_file_path = os.path.join(DesktopEntry.xdg_config_home, 'user-dirs.dirs')
</code></pre></li>
<li><pre><code>xdg_folders_file_path = os.path.join(BaseDirectory.xdg_config_home, 'user-dirs.dirs')
xdg_folders_file = file(xdg_folders_file_path, 'r')
# TODO: xdg_folders_file = codecs.open(xdg_folders_file_path, mode='r', encoding='utf-8')
</code></pre>

<p>{% endcodeblock %}</p></li>
</ul>


<p>cardapio-helper というDocky のヘルパーがあって、Docky のアイコンをクリックするとCardapio が起動されるはずなのですが、うまく動作しませんでした。
仕方がありませんでしたので、/usr/share/applications/cardapio.desktop をDocky にドラッグアンドドラッグして、メニューアイコンを登録しました。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[GNOME Shell 3.9.4]]></title>
    <link href="http://ktkr3d.github.io/blog/2013/07/13/gnome-shell-3-dot-9-4/"/>
    <updated>2013-07-13T09:36:00+09:00</updated>
    <id>http://ktkr3d.github.io/blog/2013/07/13/gnome-shell-3-dot-9-4</id>
    <content type="html"><![CDATA[<p><a href="http://ktkr3d.github.io/images/gnome_shell_3_9_4.png">{% img /images/gnome_shell_3_9_4.png 600 %}</a></p>

<p><a href="https://launchpad.net/~ricotz/+archive/testing">https://launchpad.net/~ricotz/+archive/testing</a></p>

<p>GNOME Shell 3.9.4 をUbuntu GNOME 13.10 にインストールしてみました。</p>

<h4>GNOME Shell 3.9.4 のインストール</h4>

<p>{% codeblock %}
$ sudo add-apt-repository ppa:ricotz/testing
$ sudo apt-get update
$ sudo apt-get install gnome-shell
{% endcodeblock %}</p>

<h4>ドックの設定</h4>

<p>前回のAWN に続き、このバージョンではCairo-Dock も動かなくなりました。Dash to Dock GNOME Shell 拡張も正常に動かないようです。Docky を使うことにしました。</p>

<p>{% codeblock %}
$ sudo apt-get install docky
{% endcodeblock %}</p>

<h4>トップバーの非表示</h4>

<p>Hide Top Bar GNOME Shell 拡張が正常に動かなかったので、以前使用していた<a href="&#109;&#97;&#x69;&#x6c;&#x74;&#x6f;&#58;&#97;&#117;&#116;&#x6f;&#104;&#105;&#x64;&#x65;&#116;&#111;&#112;&#98;&#x61;&#114;&#x32;&#64;&#x77;&#101;&#114;&#x65;&#x77;&#x6f;&#108;&#x76;&#x65;&#115;&#46;&#x75;&#x73;">&#x61;&#x75;&#116;&#111;&#x68;&#x69;&#100;&#101;&#116;&#x6f;&#112;&#x62;&#x61;&#x72;&#50;&#x40;&#119;&#101;&#x72;&#101;&#x77;&#111;&#108;&#118;&#101;&#x73;&#46;&#117;&#x73;</a> の方のGNOME Shell 拡張を使用してみました。
shell-version は3.9.4 を指定しました。</p>

<p>{% codeblock metadata.json lang:js %}
{
  &ldquo;description&rdquo;: &ldquo;Auto hide the top panel&rdquo;,
  &ldquo;extension-id&rdquo;: &ldquo;auto-hide-top-panel&rdquo;,
  &ldquo;gettext-domain&rdquo;: &ldquo;gnome-shell-extensions&rdquo;,
  &ldquo;name&rdquo;: &ldquo;Auto Hide Top Panel&rdquo;,
  &ldquo;settings-schema&rdquo;: &ldquo;org.gnome.shell.extensions.auto-hide-top-panel&rdquo;,
  &ldquo;shell-version&rdquo;: [</p>

<pre><code>"3.5.92",
"3.6",
"3.6.1",
"3.9.4"
</code></pre>

<p>  ],
  &ldquo;url&rdquo;: &ldquo;<a href="http://fpmurphy.com/gnome-shell-extensions">http://fpmurphy.com/gnome-shell-extensions</a>&rdquo;,
  &ldquo;uuid&rdquo;: &ldquo;<a href="&#x6d;&#97;&#105;&#108;&#116;&#111;&#x3a;&#x61;&#117;&#x74;&#111;&#104;&#105;&#x64;&#x65;&#x74;&#x6f;&#x70;&#x62;&#x61;&#114;&#50;&#64;&#119;&#101;&#x72;&#101;&#x77;&#x6f;&#108;&#118;&#101;&#115;&#46;&#117;&#115;">&#x61;&#x75;&#116;&#x6f;&#x68;&#105;&#x64;&#x65;&#x74;&#x6f;&#112;&#98;&#97;&#x72;&#x32;&#64;&#x77;&#101;&#114;&#x65;&#x77;&#111;&#108;&#118;&#101;&#115;&#46;&#x75;&#x73;</a>&rdquo;,
  &ldquo;version&rdquo;: 1
}
{% endcodeblock %}</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Ubuntu 13.10 Daily Build + Mir]]></title>
    <link href="http://ktkr3d.github.io/blog/2013/07/01/ubuntu-13-dot-10-daily-build-plus-mir/"/>
    <updated>2013-07-01T00:30:00+09:00</updated>
    <id>http://ktkr3d.github.io/blog/2013/07/01/ubuntu-13-dot-10-daily-build-plus-mir</id>
    <content type="html"><![CDATA[<p><a href="http://ktkr3d.github.io/images/ubuntu_13_10_daily_build_mir.png">{% img /images/ubuntu_13_10_daily_build_mir.png 600 %}</a></p>

<p><a href="https://launchpad.net/~mir-team/+archive/staging">https://launchpad.net/~mir-team/+archive/staging</a></p>

<p>Ubuntu 13.10 Daily Build にMir を適用してみました。現時点では若干もたつく感じがしますが、今後改善されるでしょう。</p>

<p>{% codeblock %}
$ sudo apt-add-repository ppa:mir-team/staging
$ sudo apt-get update
$ sudo apt-get upgrade
{% endcodeblock %}</p>

<p>特に資料を参考にしていないので、正式な手順ではないかもしれませんし、不十分かもしれません。</p>

<p><a href="http://ktkr3d.github.io/images/ubuntu_13_10_daily_build_mir_gnome_shell.png">{% img /images/ubuntu_13_10_daily_build_mir_gnome_shell.png 600 %}</a></p>

<p>GNOME Shell 3.8.3 で使った方が快適なような気がします。気のせいかもしれませんが。</p>

<p><a href="http://www.olli-ries.com/running-mir/">http://www.olli-ries.com/running-mir/</a></p>

<p>ここにインストール方法が書いてありました。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Ubuntu GNOME 13.10 Daily Build + Cairo-Dock]]></title>
    <link href="http://ktkr3d.github.io/blog/2013/06/16/ubuntu-gnome-13-dot-10-daily-build-plus-cairo-dock/"/>
    <updated>2013-06-16T01:43:00+09:00</updated>
    <id>http://ktkr3d.github.io/blog/2013/06/16/ubuntu-gnome-13-dot-10-daily-build-plus-cairo-dock</id>
    <content type="html"><![CDATA[<p><a href="http://ktkr3d.github.io/images/Ubuntu-GNOME-13-10.png">{% img /images/Ubuntu-GNOME-13-10.png 600 %}</a></p>

<p><a href="http://cdimage.ubuntu.com/ubuntu-gnome/daily-live/current/">http://cdimage.ubuntu.com/ubuntu-gnome/daily-live/current/</a></p>

<p>Ubuntu GNOME 13.10 (Saucy) のデイリービルドが公開されていましたので、インストールしてみました。kernel 3.9.0, GNOME Shell 3.8.2, Firefox 22.0 でした。</p>

<!-- more -->


<p>いつものようにAvant Window Navigator を使いたかったのですが、うまく起動しなかったので、Cairo Dock に移行してみました。Cairo Dock は挙動が派手で好みではなかったのですが、テーマを変更して、詳細設定をしたらAWN みたいな挙動にすることができました。
その他で気になったのは、Code::Blocks が起動しないことと、GTK+ テーマのリストボックスの挙動が少し不自然なことくらいでしょうか。そのうち、直るでしょう。</p>
]]></content>
  </entry>
  
</feed>
