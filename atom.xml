<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[ktkr3d]]></title>
  <link href="http://ktkr3d.github.io/atom.xml" rel="self"/>
  <link href="http://ktkr3d.github.io/"/>
  <updated>2013-10-19T18:41:25+09:00</updated>
  <id>http://ktkr3d.github.io/</id>
  <author>
    <name><![CDATA[ktkr3d]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[yad]]></title>
    <link href="http://ktkr3d.github.io/blog/2013/10/08/yad/"/>
    <updated>2013-10-08T23:26:00+09:00</updated>
    <id>http://ktkr3d.github.io/blog/2013/10/08/yad</id>
    <content type="html"><![CDATA[<p><a href="http://ktkr3d.github.io/images/zenity_yad.png"><img src="http://ktkr3d.github.io/images/zenity_yad_tn.png"></a></p>

<p>GTK+ 3.10 の環境(Fedora 20 Alpha, Ubuntu GNOME 13.10 Beta)で、zenity の<code>--list</code> オプションが正しく表示されないので、代わりにzenity のフォークであるyad(yet another dialog)を使ってみました。
ただし、yad の<code>--progress --pulsate</code> オプションはzenity と仕様が異なるようなので、リストボックスを表示する部分のみに対してyad を使うことにしました。</p>

<!-- more -->


<h4>yad インストール</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>sudo add-apt-repository ppa:webupd8team/y-ppa-manager
</span><span class='line'>sudo apt-get update
</span><span class='line'>sudo apt-get install yad
</span></code></pre></td></tr></table></div></figure>


<h4>yad &amp; zenity スクリプト</h4>

<figure class='code'><figcaption><span>octopress_helper_yad</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c">#!/bin/bash</span>
</span><span class='line'>
</span><span class='line'><span class="nv">OCTOPRESS_DIR</span><span class="o">=</span>/mnt/common/github/octopress
</span><span class='line'>
</span><span class='line'><span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:<span class="nv">$HOME</span>/bin:<span class="nv">$HOME</span>/.rvm/bin <span class="c"># Add RVM to PATH for scripting</span>
</span><span class='line'><span class="nb">source</span> <span class="nv">$HOME</span>/.rvm/scripts/rvm
</span><span class='line'><span class="nb">cd</span> <span class="nv">$OCTOPRESS_DIR</span>
</span><span class='line'>
</span><span class='line'><span class="k">while</span> :
</span><span class='line'><span class="k">do</span>
</span><span class='line'><span class="k">  </span><span class="nv">pick</span><span class="o">=</span><span class="k">$(</span>yad --height<span class="o">=</span>300 --width<span class="o">=</span>300 --print-column<span class="o">=</span>2 --list --title <span class="s2">&quot;OctoPress Helper&quot;</span> --text <span class="s2">&quot;Select Action.&quot;</span> --radiolist --column Pick --column dummy --column Action --hide-column 2 <span class="nb">true </span>0 <span class="s2">&quot;New Post&quot;</span> <span class="nb">false </span>1 <span class="s2">&quot;New Page&quot;</span> <span class="nb">false </span>2 <span class="s2">&quot;Generate&quot;</span> <span class="nb">false </span>3 <span class="s2">&quot;Deploy&quot;</span> <span class="nb">false </span>4 <span class="s2">&quot;Preview&quot;</span> <span class="nb">false </span>5 <span class="s2">&quot;Open Posts Folder&quot;</span> <span class="nb">false </span>6 <span class="s2">&quot;Push Source&quot;</span><span class="k">)</span>;
</span><span class='line'>  <span class="k">case</span> <span class="nv">$pick</span> in
</span><span class='line'>      <span class="s2">&quot;0|&quot;</span><span class="o">)</span>
</span><span class='line'>          <span class="nv">post_title</span><span class="o">=</span><span class="k">$(</span>zenity --entry --title<span class="o">=</span><span class="s2">&quot;New Post&quot;</span> --text<span class="o">=</span><span class="s2">&quot;Enter Title.&quot;</span> <span class="k">)</span>
</span><span class='line'>          <span class="k">if</span> <span class="o">[</span> <span class="k">${#</span><span class="nv">post_title</span><span class="k">}</span> &gt; 0 <span class="o">]</span> ; <span class="k">then</span>
</span><span class='line'><span class="k">              </span>rake new_post<span class="o">[</span><span class="s2">&quot;$post_title&quot;</span><span class="o">]</span> &gt;<span class="o">(</span>yad --progress --title<span class="o">=</span><span class="s2">&quot;New Post&quot;</span> --pulsate --auto-close --auto-kill<span class="o">)</span>
</span><span class='line'>          <span class="k">fi</span>
</span><span class='line'>          ;;
</span><span class='line'>      <span class="s2">&quot;1|&quot;</span><span class="o">)</span>
</span><span class='line'>          <span class="nv">page_title</span><span class="o">=</span><span class="k">$(</span>zenity --entry --title<span class="o">=</span><span class="s2">&quot;New Page&quot;</span> --text<span class="o">=</span><span class="s2">&quot;Enter Title.&quot;</span> <span class="k">)</span>
</span><span class='line'>          <span class="k">if</span> <span class="o">[</span> <span class="k">${#</span><span class="nv">page_title</span><span class="k">}</span> &gt; 0 <span class="o">]</span> ; <span class="k">then</span>
</span><span class='line'><span class="k">              </span>rake new_page<span class="o">[</span><span class="s2">&quot;$page_title&quot;</span><span class="o">]</span> &gt;<span class="o">(</span>yad --progress --title<span class="o">=</span><span class="s2">&quot;New Page&quot;</span> --pulsate --auto-close --auto-kill<span class="o">)</span>
</span><span class='line'>          <span class="k">fi</span>
</span><span class='line'>          ;;
</span><span class='line'>      <span class="s2">&quot;2|&quot;</span><span class="o">)</span>
</span><span class='line'>          rake generate &gt;<span class="o">(</span>zenity --progress --title<span class="o">=</span><span class="s2">&quot;Generate&quot;</span> --pulsate --auto-close --auto-kill<span class="o">)</span>
</span><span class='line'>          ;;
</span><span class='line'>      <span class="s2">&quot;3|&quot;</span><span class="o">)</span>
</span><span class='line'>          rake deploy &gt;<span class="o">(</span>zenity --progress --title<span class="o">=</span><span class="s2">&quot;Deploy&quot;</span> --pulsate --auto-close --auto-kill<span class="o">)</span>
</span><span class='line'>          ;;
</span><span class='line'>      <span class="s2">&quot;4|&quot;</span><span class="o">)</span>
</span><span class='line'>          rake preview &gt;<span class="o">(</span>zenity --progress --title<span class="o">=</span><span class="s2">&quot;Preview&quot;</span> --pulsate --auto-close --auto-kill<span class="o">)</span>
</span><span class='line'>          ;;
</span><span class='line'>      <span class="s2">&quot;5|&quot;</span><span class="o">)</span>
</span><span class='line'>          nautilus <span class="nv">$OCTOPRESS_DIR</span>/source/_posts/ &amp;
</span><span class='line'>          ;;
</span><span class='line'>      <span class="s2">&quot;6|&quot;</span><span class="o">)</span>
</span><span class='line'>          git add . <span class="o">&amp;&amp;</span> git commit -m <span class="s1">&#39;update&#39;</span> <span class="o">&amp;&amp;</span> git push -u origin <span class="nb">source</span> &gt;<span class="o">(</span>zenity --progress --title<span class="o">=</span><span class="s2">&quot;Push Source&quot;</span> --pulsate --auto-close --auto-kill<span class="o">)</span>
</span><span class='line'>          ;;
</span><span class='line'>      *<span class="o">)</span>
</span><span class='line'>          <span class="nb">break</span>
</span><span class='line'>          ;;
</span><span class='line'>  <span class="k">esac</span>
</span><span class='line'><span class="k">done</span>
</span></code></pre></td></tr></table></div></figure>


<p></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Fedora 20]]></title>
    <link href="http://ktkr3d.github.io/blog/2013/10/05/fedora-20/"/>
    <updated>2013-10-05T20:14:00+09:00</updated>
    <id>http://ktkr3d.github.io/blog/2013/10/05/fedora-20</id>
    <content type="html"><![CDATA[<p><a href="http://ktkr3d.github.io/images/fedora_20.png"><img src="http://ktkr3d.github.io/images/fedora_20_tn.png"></a></p>

<p>Fedora 20 alpha + GNOME Shell 3.10 をインストールしてみました。</p>

<h4>Fedora 20 alpha</h4>

<p><code>https://fedoraproject.org/ja/get-prerelease</code></p>

<h4>RPM Fusion</h4>

<p><code>http://rpmfusion.org/Configuration</code></p>

<h4>その他の設定</h4>

<ul>
<li>Autohide Top Bar extension</li>
<li>Cairo-Dock</li>
<li>Bluetooth Keyboard</li>
<li>VNC Server<br/>
  <code>sudo yum install vino</code> を実行すると、[設定]&ndash;[共有]&ndash;[画面共有]メニューが有効になる。クライアントからはSSH トンネル経由で接続する。</li>
</ul>


<!-- more -->


<h4>Android からインターネット経由の通信と接続ツール</h4>

<ul>
<li>SSH (Connect Bot)
  <code>https://play.google.com/store/apps/details?id=org.connectbot</code></li>
<li>VNC over SSH (bVNC Free)
  <code>https://play.google.com/store/apps/details?id=com.iiordanov.freebVNC</code><br/>
  SSH 上で、ターゲットホストへ接続</li>
<li>Samba over SSH (SSH Tunnel)
  <code>https://play.google.com/store/apps/details?id=org.sshtunnel</code><br/>
  SSH 上で、ローカルの10445 をリモートの445 にポートフォワード</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Irrlicht Android Media Player]]></title>
    <link href="http://ktkr3d.github.io/blog/2013/08/11/irrlicht-android-media-player/"/>
    <updated>2013-08-11T03:47:00+09:00</updated>
    <id>http://ktkr3d.github.io/blog/2013/08/11/irrlicht-android-media-player</id>
    <content type="html"><![CDATA[<p><a href="http://ktkr3d.github.io/images/irrlicht_android_player_tab.png"><img src="http://ktkr3d.github.io/images/irrlicht_android_player_tab_tn.png"></a></p>

<p>Android のNative Activity で実装したアプリからオーディオの再生ができたので、ミクさんが踊ってくれるメディアプレイヤー的なものにしてみました。</p>

<!-- more -->


<h4>PMD とVMD のロード処理の修正</h4>

<p>以前のソースコードがHDD の故障とともに消えてしまったので、コードやMakefile を書きなおしていたところ、うまくロードできないPMD、VMD があることに気が付きました。
BinaryReader のロード処理で、プロセッサ種別に依存してうまく取り込めない(ARM CPU で構造体のアラインメントが異なる)のが原因のようです。<br/>
以前のバージョンのコンパイラ＋古いバージョンのAndroid デバイスでは動いていたような気がするのに。
原因は単純なので修正しておきました。</p>

<h4>Native Activity からのWakeLock の制御</h4>

<p>少し経つと画面が暗くなって、画面が非表示状態になります。
PowerManager のWakeLock を制御すれば良さそうです。
Android NDK のNative Activity の場合はJNI を経由してPower Manager へアクセスするのかな。
後で調べておこう。</p>

<h4>画面インタフェース</h4>

<ul>
<li><strong>パネル表示切替ボタン「⇅」</strong><br/>
画面下部の設定用のインタフェースの表示/非表示を切り替える。曲目リスト、モデルリスト、環境設定のタブがある。</li>
<li><strong>ミュート切替ボタン「♪」</strong><br/>
音声の出力状態を切り替える。OpenSL ES の<code>(*uriPlayerVolume)-&gt;SetMute()</code>をコールしている。</li>
<li><strong>再生/停止切替ボタン「▶」</strong><br/>
モーションと音声の再生/停止を切り替える。アニメーションスピードの切り替えと<code>(*uriPlayerPlay)-&gt;SetPlayState()</code>をコールしている。モデルまたは曲を変更した場合は最初から開始する。</li>
<li><strong>終了ボタン「×」</strong><br/>
アプリケーションを終了する。</li>
<li><strong>カメラ位置スクロールバー</strong><br/>
カメラの位置を前後させる。</li>
</ul>


<h4>TODO</h4>

<ul>
<li><code>state-&gt;onAppCmd</code> にコールバック関数を設定しているのにキックされない原因を調べる。</li>
<li><code>pFileSystem-&gt;createFileList()</code> が失敗する原因を調べる。</li>
<li>タスク復帰時に描画コンテキストをリストアする。</li>
<li>GUI のSkin を変更する。</li>
<li>Android 固有の入力イベントに対応する。</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Compiling Irrlicht ogl-es branch for Android]]></title>
    <link href="http://ktkr3d.github.io/blog/2013/08/04/compiling-irrlicht-ogl-es-branch-for-android/"/>
    <updated>2013-08-04T04:04:00+09:00</updated>
    <id>http://ktkr3d.github.io/blog/2013/08/04/compiling-irrlicht-ogl-es-branch-for-android</id>
    <content type="html"><![CDATA[<p><a href="http://ktkr3d.github.io/images/irrlicht_ogl-es_android.png"><img src="http://ktkr3d.github.io/images/irrlicht_ogl-es_android_tn.png"></a></p>

<ul>
<li>Compiling Irrlicht ogl-es branch for Android on Ubuntu GNOME 13.10 x86_64.</li>
<li>Native C/C++ Android Application (Native Activity).</li>
<li>Fullscreen (1080x1920)</li>
<li>Input Event Receiver</li>
<li>True Type Font (FreeType2)</li>
<li>OpenSL ES (Native Audio)</li>
</ul>


<!-- more -->


<h4>Environment</h4>

<ul>
<li>Android SDK: 22.0.5</li>
<li>Android NDK: r9</li>
<li>Android Device: Android 4.1.2 (API level 16)</li>
<li>Irrlicht 1.9 [r4528]</li>
</ul>


<h4>Download Irrlicht ogl-es branch</h4>

<p><code>http://sourceforge.net/p/irrlicht/code/</code></p>

<ol>
<li>Select <code>branches</code>, <code>ogl-es</code>, <code>Download Snapshot</code>.</li>
<li>Download.</li>
<li>Extract.</li>
</ol>


<h4>Compile Irrlicht Library</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span><span class="nb">cd source</span>/Irrlicht/Andorid
</span><span class='line'><span class="nv">$ </span>ndk-build -j4
</span></code></pre></td></tr></table></div></figure>


<p>&ndash;> <code>lib/Android/libirrlicht.a</code></p>

<h4>Build example</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span><span class="nb">cd </span>examples/17.HelloWorld_Mobile
</span><span class='line'><span class="nv">$ </span>android update project --path . --target android-16
</span><span class='line'><span class="nv">$ </span>ndk-build -j4
</span><span class='line'><span class="nv">$ </span>ant debug
</span></code></pre></td></tr></table></div></figure>


<p>&ndash;> <code>examples/17.HellowWorld_Mobile/HelloWorldMobile-debug.apk</code></p>

<h4>TrueType Font</h4>

<p><code>include/irrUString.h</code>, <code>jni/CGUITTFont.h</code>, <code>jni/CGUITTFont.cpp</code></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Zenity OctoPress Helper]]></title>
    <link href="http://ktkr3d.github.io/blog/2013/07/15/zenity-octopress-helper/"/>
    <updated>2013-07-15T13:26:00+09:00</updated>
    <id>http://ktkr3d.github.io/blog/2013/07/15/zenity-octopress-helper</id>
    <content type="html"><![CDATA[<p><a href="http://ktkr3d.github.io/images/zenity_octopress_menu.png"><img src="http://ktkr3d.github.io/images/zenity_octopress_menu.png"></a></p>

<p>OctoPress のフロントエンドをZenity で作ってみました。
Web ベースのUI を作っている方もいるようですが、とりあえずこれでもお手軽になりました。</p>

<!-- more -->


<h4>zenity スクリプト</h4>

<p><a href="http://ktkr3d.github.io/images/zenity_octopress_new_post.png"><img src="http://ktkr3d.github.io/images/zenity_octopress_new_post.png"></a><br>
<a href="http://ktkr3d.github.io/images/zenity_octopress_deploy.png"><img src="http://ktkr3d.github.io/images/zenity_octopress_deploy.png"></a></p>

<p>Zenity のリストボックス、テキスト入力、プログレスバー等を利用して、フロントエンドを作成します。</p>

<figure class='code'><figcaption><span>octopress_helper.sh </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="c">#!/bin/bash</span>
</span><span class='line'>
</span><span class='line'><span class="nv">OCTOPRESS_DIR</span><span class="o">=</span>/mnt/common/github/octopress
</span><span class='line'>
</span><span class='line'><span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:<span class="nv">$HOME</span>/bin:<span class="nv">$HOME</span>/.rvm/bin <span class="c"># Add RVM to PATH for scripting</span>
</span><span class='line'><span class="nb">source</span> <span class="nv">$HOME</span>/.rvm/scripts/rvm
</span><span class='line'><span class="nb">cd</span> <span class="nv">$OCTOPRESS_DIR</span>
</span><span class='line'>
</span><span class='line'><span class="k">while</span> :
</span><span class='line'><span class="k">do</span>
</span><span class='line'><span class="k">  </span><span class="nv">pick</span><span class="o">=</span><span class="k">$(</span>zenity --list --title <span class="s2">&quot;OctoPress Helper&quot;</span> --text <span class="s2">&quot;Select Action.&quot;</span> --radiolist --column Pick --column dummy --column Action --hide-column 2 <span class="nb">true </span>0 <span class="s2">&quot;New Post&quot;</span> <span class="nb">false </span>1 <span class="s2">&quot;New Page&quot;</span> <span class="nb">false </span>2 <span class="s2">&quot;Generate&quot;</span> <span class="nb">false </span>3 <span class="s2">&quot;Deploy&quot;</span> <span class="nb">false </span>4 <span class="s2">&quot;Preview&quot;</span> <span class="nb">false </span>5 <span class="s2">&quot;Open Posts Folder&quot;</span> <span class="nb">false </span>6 <span class="s2">&quot;Push Source&quot;</span><span class="k">)</span>;
</span><span class='line'>  <span class="k">case</span> <span class="nv">$pick</span> in
</span><span class='line'>      0<span class="o">)</span>
</span><span class='line'>          <span class="nv">post_title</span><span class="o">=</span><span class="k">$(</span>zenity --entry --title<span class="o">=</span><span class="s2">&quot;New Post&quot;</span> --text<span class="o">=</span><span class="s2">&quot;Enter Title.&quot;</span> <span class="k">)</span>
</span><span class='line'>          <span class="k">if</span> <span class="o">[</span> <span class="k">${#</span><span class="nv">post_title</span><span class="k">}</span> &gt; 0 <span class="o">]</span> ; <span class="k">then</span>
</span><span class='line'><span class="k">              </span>rake new_post<span class="o">[</span><span class="s2">&quot;$post_title&quot;</span><span class="o">]</span> &gt;<span class="o">(</span>zenity --progress --title<span class="o">=</span><span class="s2">&quot;New Post&quot;</span> --pulsate --auto-close --auto-kill<span class="o">)</span>
</span><span class='line'>          <span class="k">fi</span>
</span><span class='line'>          ;;
</span><span class='line'>      1<span class="o">)</span>
</span><span class='line'>          <span class="nv">page_title</span><span class="o">=</span><span class="k">$(</span>zenity --entry --title<span class="o">=</span><span class="s2">&quot;New Page&quot;</span> --text<span class="o">=</span><span class="s2">&quot;Enter Title.&quot;</span> <span class="k">)</span>
</span><span class='line'>          <span class="k">if</span> <span class="o">[</span> <span class="k">${#</span><span class="nv">page_title</span><span class="k">}</span> &gt; 0 <span class="o">]</span> ; <span class="k">then</span>
</span><span class='line'><span class="k">              </span>rake new_page<span class="o">[</span><span class="s2">&quot;$page_title&quot;</span><span class="o">]</span> &gt;<span class="o">(</span>zenity --progress --title<span class="o">=</span><span class="s2">&quot;New Page&quot;</span> --pulsate --auto-close --auto-kill<span class="o">)</span>
</span><span class='line'>          <span class="k">fi</span>
</span><span class='line'>          ;;
</span><span class='line'>      2<span class="o">)</span>
</span><span class='line'>          rake generate &gt;<span class="o">(</span>zenity --progress --title<span class="o">=</span><span class="s2">&quot;Generate&quot;</span> --pulsate --auto-close --auto-kill<span class="o">)</span>
</span><span class='line'>          ;;
</span><span class='line'>      3<span class="o">)</span>
</span><span class='line'>          rake deploy &gt;<span class="o">(</span>zenity --progress --title<span class="o">=</span><span class="s2">&quot;Deploy&quot;</span> --pulsate --auto-close --auto-kill<span class="o">)</span>
</span><span class='line'>          ;;
</span><span class='line'>      4<span class="o">)</span>
</span><span class='line'>          rake preview &gt;<span class="o">(</span>zenity --progress --title<span class="o">=</span><span class="s2">&quot;Preview&quot;</span> --pulsate --auto-close --auto-kill<span class="o">)</span>
</span><span class='line'>          ;;
</span><span class='line'>      5<span class="o">)</span>
</span><span class='line'>          nautilus <span class="nv">$OCTOPRESS_DIR</span>/source/_posts/ &amp;
</span><span class='line'>          ;;
</span><span class='line'>      6<span class="o">)</span>
</span><span class='line'>          git add . <span class="o">&amp;&amp;</span> git commit -m <span class="s1">&#39;update&#39;</span> <span class="o">&amp;&amp;</span> git push -u origin <span class="nb">source</span> &gt;<span class="o">(</span>zenity --progress --title<span class="o">=</span><span class="s2">&quot;Push Source&quot;</span> --pulsate --auto-close --auto-kill<span class="o">)</span>
</span><span class='line'>          ;;
</span><span class='line'>      *<span class="o">)</span>
</span><span class='line'>          <span class="nb">break</span>
</span><span class='line'>          ;;
</span><span class='line'>  <span class="k">esac</span>
</span><span class='line'><span class="k">done</span>
</span></code></pre></td></tr></table></div></figure>


<h4>起動用ショートカットアイコン</h4>

<p>起動用のショートカットファイル<code>octopress_helper.desktop</code>を作成してドックにドラッグ&amp;ドロップします。
端末を非表示にする場合は<code>Terminal=false</code>とします。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>[Desktop Entry]
</span><span class='line'>Encoding=UTF-8
</span><span class='line'>Name=OctoPress Helper
</span><span class='line'>Exec=/mnt/common/home/Script/octopress_helper.sh
</span><span class='line'>Icon=/usr/share/pixmaps/octopress.png
</span><span class='line'>Terminal=true
</span><span class='line'>Type=Application
</span><span class='line'>Categories=Application;
</span><span class='line'>StartupNotify=false</span></code></pre></td></tr></table></div></figure>


<h4>プレビュー</h4>

<p>私は <code>rake preview</code> をログイン時に常駐させて、ブラウザから <code>http://localhost:4000/</code> にアクセスしてレイアウト結果を確認しています。フォルダ内の変更が監視されるので、多少の負荷はあるかもしれません。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[GNOME Shell Lock Screen]]></title>
    <link href="http://ktkr3d.github.io/blog/2013/07/15/gnome-shell-lock-screen/"/>
    <updated>2013-07-15T08:57:00+09:00</updated>
    <id>http://ktkr3d.github.io/blog/2013/07/15/gnome-shell-lock-screen</id>
    <content type="html"><![CDATA[<p><a href="http://ktkr3d.github.io/images/gnome_shell_lock_screen.png"><img src="http://ktkr3d.github.io/images/gnome_shell_lock_screen.png"></a></p>

<p>GNOME Shell のロック画面で表示される時刻のフォントの上部が欠けていたので、暫定対策しました。</p>

<!-- more -->


<h4>ロック画面のフォントの変更</h4>

<p><code>font-family: "DejaVu Sans";</code>でフォントファミリーを指定しています。</p>

<figure class='code'><figcaption><span>/usr/share/gnome-shell/theme/gnome-shell.css </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='css'><span class='line'><span class="nc">.screen-shield-clock-time</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">font-family</span><span class="o">:</span> <span class="s2">&quot;DejaVu Sans&quot;</span><span class="p">;</span>
</span><span class='line'>    <span class="k">font-size</span><span class="o">:</span> <span class="m">64pt</span><span class="p">;</span>
</span><span class='line'>    <span class="k">text-shadow</span><span class="o">:</span> <span class="m">0px</span> <span class="m">2px</span> <span class="m">2px</span> <span class="n">rgba</span><span class="p">(</span><span class="m">0</span><span class="o">,</span><span class="m">0</span><span class="o">,</span><span class="m">0</span><span class="o">,</span><span class="m">0</span><span class="o">.</span><span class="m">4</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="nc">.screen-shield-clock-date</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">font-family</span><span class="o">:</span> <span class="s2">&quot;DejaVu Sans&quot;</span><span class="p">;</span>
</span><span class='line'>    <span class="k">font-size</span><span class="o">:</span> <span class="m">24pt</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<h4>設定の反映</h4>

<p>設定を反映するには、<code>Alt + F2</code> を押下、<code>r</code> を入力して<code>Enter</code>で、GNOME Shell を再起動します。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Docky + Cardapio]]></title>
    <link href="http://ktkr3d.github.io/blog/2013/07/14/docky-plus-cardapio/"/>
    <updated>2013-07-14T11:11:00+09:00</updated>
    <id>http://ktkr3d.github.io/blog/2013/07/14/docky-plus-cardapio</id>
    <content type="html"><![CDATA[<p><a href="http://ktkr3d.github.io/images/docky_cardapio.png"><img src="http://ktkr3d.github.io/images/docky_cardapio_tn.png"></a></p>

<p>Ubuntu 13.10 + GNOME Shell 3.9.4 上で、Docky に移行して困ったことは、以下でした。</p>

<ol>
<li>電源ボタンが無いこと</li>
<li>アプリケーションメニューがないこと</li>
</ol>


<p>Docky とCardapio の設定で上記を動くようにしてみました。</p>

<!-- more -->


<p></p>

<h4>電源ボタンの設定</h4>

<p>一番右の「画面のロック」アイコンを右クリックすることで、「画面のロック」、「ログアウト」、「サスペンド」、「再起動」、「シャットダウン」のようなサブメニューが表示されます。
「画面のロック」のアイコン上でマウスのホイールボタンで上下にホイールすると、デフォルトの動作を指定できます。
ボタン押下後に再起動かシャットダウンかを選択させる形式がよかったのですが、とりあえずこれで良しとしましょう。</p>

<h4>Cardapio の設定</h4>

<p>Cardapio を使ってDocky からアプリケーションメニューを表示することにします。</p>

<pre><code>$ sudo add-apt-repository ppa:cardapio-team/unstable
$ sudo apt-get update
$ sudo apt-get install cardapio
</code></pre>

<p>saucy 向けのCardapio が存在しなかったので、ソフトウェアソースをquantal 向けに切り替えてインストールしました。
cardapio を起動してみたところ、いくつかエラーが表示されたので、<code>/usr/lib/cardapio/Cardapio.py</code> を修正しました。</p>

<ol>
<li><p>以下を追加<br>
<code>from xdg import BaseDirectory</code></p></li>
<li><p>以下を置換<br>
<code>DesktopEntry.xdg_config_home</code> &ndash;> <code>BaseDirectory.xdg_config_home</code></p></li>
<li><p>以下を置換<br>
<code>DesktopEntry.xdg_cache_home</code> &ndash;> <code>BaseDirectory.xdg_cache_home</code></p></li>
</ol>


<h4>Docky へCardapio を登録</h4>

<p>cardapio-helper というDocky のヘルパーを使うと、Docky アイコンクリックで、Cardapio が起動されるはずなのですが、うまく動作しませんでした。
仕方がないので、<code>/usr/share/applications/cardapio.desktop</code> をDocky にドラッグ&amp;ドロップして、メニューアイコンを登録しました。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[GNOME Shell 3.9.4]]></title>
    <link href="http://ktkr3d.github.io/blog/2013/07/13/gnome-shell-3-dot-9-4/"/>
    <updated>2013-07-13T09:36:00+09:00</updated>
    <id>http://ktkr3d.github.io/blog/2013/07/13/gnome-shell-3-dot-9-4</id>
    <content type="html"><![CDATA[<p><a href="http://ktkr3d.github.io/images/gnome_shell_3_9_4.png"><img src="http://ktkr3d.github.io/images/gnome_shell_3_9_4_tn.png"></a></p>

<p><a href="https://launchpad.net/~ricotz/+archive/testing">https://launchpad.net/~ricotz/+archive/testing</a></p>

<p>GNOME Shell 3.9.4 をUbuntu GNOME 13.10 にインストールしてみました。</p>

<!-- more -->


<p></p>

<h4>GNOME Shell 3.9.4 のインストール</h4>

<pre><code>$ sudo add-apt-repository ppa:ricotz/testing
$ sudo apt-get update
$ sudo apt-get install gnome-shell
</code></pre>

<h4>ドックの設定</h4>

<p>前回のAWN に続き、このバージョンではCairo-Dock も動かなくなりました。Dash to Dock GNOME Shell 拡張も正常に動かないようです。Docky を使うことにしました。</p>

<pre><code>$ sudo apt-get install docky
</code></pre>

<h4>トップバーの非表示</h4>

<p>Hide Top Bar GNOME Shell 拡張が正常に動かなかったので、以前使用していた<a href="&#109;&#97;&#105;&#x6c;&#x74;&#x6f;&#x3a;&#97;&#117;&#116;&#x6f;&#x68;&#x69;&#x64;&#101;&#116;&#x6f;&#x70;&#x62;&#97;&#x72;&#50;&#x40;&#x77;&#x65;&#114;&#101;&#119;&#x6f;&#108;&#118;&#x65;&#115;&#46;&#117;&#x73;">&#x61;&#x75;&#x74;&#111;&#x68;&#x69;&#x64;&#x65;&#116;&#111;&#x70;&#x62;&#x61;&#114;&#50;&#64;&#119;&#x65;&#x72;&#x65;&#119;&#x6f;&#x6c;&#x76;&#x65;&#x73;&#46;&#x75;&#x73;</a> の方のGNOME Shell 拡張を使用してみました。
shell-version は3.9.4 を指定しました。</p>

<figure class='code'><figcaption><span>metadata.json </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="s2">&quot;description&quot;</span><span class="o">:</span> <span class="s2">&quot;Auto hide the top panel&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s2">&quot;extension-id&quot;</span><span class="o">:</span> <span class="s2">&quot;auto-hide-top-panel&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s2">&quot;gettext-domain&quot;</span><span class="o">:</span> <span class="s2">&quot;gnome-shell-extensions&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;Auto Hide Top Panel&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s2">&quot;settings-schema&quot;</span><span class="o">:</span> <span class="s2">&quot;org.gnome.shell.extensions.auto-hide-top-panel&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s2">&quot;shell-version&quot;</span><span class="o">:</span> <span class="p">[</span>
</span><span class='line'>  <span class="s2">&quot;3.5.92&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s2">&quot;3.6&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s2">&quot;3.6.1&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s2">&quot;3.9.4&quot;</span>
</span><span class='line'>  <span class="p">],</span>
</span><span class='line'>  <span class="s2">&quot;url&quot;</span><span class="o">:</span> <span class="s2">&quot;http://fpmurphy.com/gnome-shell-extensions&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s2">&quot;uuid&quot;</span><span class="o">:</span> <span class="s2">&quot;autohidetopbar2@werewolves.us&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s2">&quot;version&quot;</span><span class="o">:</span> <span class="mi">1</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Ubuntu 13.10 Daily Build + Mir]]></title>
    <link href="http://ktkr3d.github.io/blog/2013/07/01/ubuntu-13-dot-10-daily-build-plus-mir/"/>
    <updated>2013-07-01T00:30:00+09:00</updated>
    <id>http://ktkr3d.github.io/blog/2013/07/01/ubuntu-13-dot-10-daily-build-plus-mir</id>
    <content type="html"><![CDATA[<p><a href="http://ktkr3d.github.io/images/ubuntu_13_10_daily_build_mir.png"><img src="http://ktkr3d.github.io/images/ubuntu_13_10_daily_build_mir_tn.png"></a></p>

<p><a href="https://launchpad.net/~mir-team/+archive/staging">https://launchpad.net/~mir-team/+archive/staging</a></p>

<p>Ubuntu 13.10 Daily Build にMir を適用してみました。現時点では若干もたつく感じがしますが、今後改善されるでしょう。</p>

<!-- more -->


<p></p>

<pre><code>$ sudo apt-add-repository ppa:mir-team/staging
$ sudo apt-get update
$ sudo apt-get upgrade
</code></pre>

<p>特に資料を参考にしていないので、正式な手順ではないかもしれませんし、不十分かもしれません。</p>

<p><a href="http://ktkr3d.github.io/images/ubuntu_13_10_daily_build_mir_gnome_shell.png"><img src="http://ktkr3d.github.io/images/ubuntu_13_10_daily_build_mir_gnome_shell_tn.png"></a></p>

<p>GNOME Shell 3.8.3 で使った方が快適なような気がします。気のせいかもしれませんが。</p>

<p><a href="http://www.olli-ries.com/running-mir/">http://www.olli-ries.com/running-mir/</a></p>

<p>ここにインストール方法が書いてありました。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Octopress]]></title>
    <link href="http://ktkr3d.github.io/blog/2013/06/16/octopress/"/>
    <updated>2013-06-16T12:34:00+09:00</updated>
    <id>http://ktkr3d.github.io/blog/2013/06/16/octopress</id>
    <content type="html"><![CDATA[<p><img src="http://ktkr3d.github.io/images/octopress.png"></p>

<p><a href="http://ktkr3d.site11.com">http://ktkr3d.site11.com</a> 上のWordPress からGitHub 上のOctopress にブログを移行してみました。</p>

<!-- more -->


<p>WordPress は便利なのですが、メモリ消費量が多くなってしまい、海外無料Webサービスでの運用が困難になってきました。（解決策はいろいろとあるとは思いますが。）</p>

<p>そこで、Github Pages + Octopress でブログサイトを構築してみることにしました。Markdown で記述していきますが、よく知らないので、これから覚えていくことにしましょう。</p>

<h3>使い方のメモ</h3>

<p><a href="http://octopress.org/docs/">http://octopress.org/docs/</a></p>

<ul>
<li><p>新規記事の作成</p>

<pre><code>  $ rake new_post["title"]
</code></pre></li>
<li><p>記事の編集</p></li>
</ul>


<p>./octopress/source/_posts/*.markdown を編集します。
画像はsource/images/ に格納することにします。
画像の挿入は</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{% img /images/Ubuntu-GNOME-13-10.png 600 %}</span></code></pre></td></tr></table></div></figure>


<ul>
<li><p>生成とデプロイ</p>

<pre><code>  $ rake generate &amp;&amp; rake deploy
</code></pre></li>
<li><p>新規ページの作成</p>

<pre><code>  $ rake new_page[page-name]
</code></pre></li>
<li><p>スタイルの変更</p></li>
</ul>


<p>./octopress/source/stylesheets/ にスタイルシートがあります。
スタイルシートのカスタマイズは<code>./octopress/saas/custom/</code>にあるファイルを編集します。</p>

<p>OctoPress のテーマは画面幅が狭い場合にサイドバーが下部に移動するようになっているようですので、少し調整が必要そうです。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Ubuntu GNOME 13.10 Daily Build + Cairo-Dock]]></title>
    <link href="http://ktkr3d.github.io/blog/2013/06/16/ubuntu-gnome-13-dot-10-daily-build-plus-cairo-dock/"/>
    <updated>2013-06-16T01:43:00+09:00</updated>
    <id>http://ktkr3d.github.io/blog/2013/06/16/ubuntu-gnome-13-dot-10-daily-build-plus-cairo-dock</id>
    <content type="html"><![CDATA[<p><a href="http://ktkr3d.github.io/images/Ubuntu-GNOME-13-10.png"><img src="http://ktkr3d.github.io/images/Ubuntu-GNOME-13-10_tn.png"></a></p>

<p><a href="http://cdimage.ubuntu.com/ubuntu-gnome/daily-live/current/">http://cdimage.ubuntu.com/ubuntu-gnome/daily-live/current/</a></p>

<p>Ubuntu GNOME 13.10 (Saucy) のデイリービルドが公開されていましたので、インストールしてみました。kernel 3.9.0, GNOME Shell 3.8.2, Firefox 22.0 でした。</p>

<!-- more -->


<p>いつものようにAvant Window Navigator を使いたかったのですが、うまく起動しなかったので、Cairo Dock に移行してみました。Cairo Dock は挙動が派手で好みではなかったのですが、テーマを変更して、詳細設定をしたらAWN みたいな挙動にすることができました。
その他で気になったのは、Code::Blocks が起動しないことと、GTK+ テーマのリストボックスの挙動が少し不自然なことくらいでしょうか。そのうち、直るでしょう。</p>
]]></content>
  </entry>
  
</feed>
