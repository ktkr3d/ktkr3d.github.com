<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[ktkr3d]]></title>
  <link href="http://ktkr3d.github.io/atom.xml" rel="self"/>
  <link href="http://ktkr3d.github.io/"/>
  <updated>2014-01-12T20:19:10+09:00</updated>
  <id>http://ktkr3d.github.io/</id>
  <author>
    <name><![CDATA[ktkr3d]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[gEdit 3.11.2]]></title>
    <link href="http://ktkr3d.github.io/blog/2014/01/12/gedit-3-dot-11-dot-2/"/>
    <updated>2014-01-12T03:39:00+09:00</updated>
    <id>http://ktkr3d.github.io/blog/2014/01/12/gedit-3-dot-11-dot-2</id>
    <content type="html"><![CDATA[<p><a href="http://ktkr3d.github.io/images/gedit_3.11.2.png"><img src="http://ktkr3d.github.io/images/gedit_3.11.2.png" title="gedit 3.11.2" alt="gedit 3.11.2" /></a></p>

<p><a href="http://worldofgnome.org/gedit-3-12-migrates-to-hig-3/">http://worldofgnome.org/gedit-3-12-migrates-to-hig-3/</a></p>

<p>gEdit 3.11.2 がリリースされたので、ビルドして実行してみました。
(私はgedit ではなくgeany を常用してますけれど)</p>

<p>Gitg もそうですが、GNOME Human Interface Guidelines(HIG) 3 に準拠したアプリが続々とリリースされていますね。</p>

<!-- more -->


<h4>gtksouceview-3.0</h4>

<p>前提となる<code>gtksouceview-3.0</code> のバージョン3.11.2 をビルドしてインストールします。</p>

<p><code>ftp://ftp.gnome.org/pub/GNOME/sources/gtksourceview/3.11/gtksourceview-3.11.2.tar.xz</code></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>./configure
</span><span class='line'><span class="nv">$ </span>make -j4
</span><span class='line'><span class="nv">$ </span>sudo make install
</span></code></pre></td></tr></table></div></figure>


<h4>libgd</h4>

<p>libgd をダウンロードします。
後でgedit のフォルダにコピーします。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>git clone git://git.gnome.org/libgd
</span></code></pre></td></tr></table></div></figure>


<h4>gedit</h4>

<p>gedit をビルドします。
make するとgedit 3.11.2 が起動します。</p>

<p><code>https://git.gnome.org/browse/gedit/snapshot/gedit-3.11.2.tar.gz</code></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>./autogen.sh
</span><span class='line'><span class="nv">$ </span>./configure
</span><span class='line'><span class="nv">$ </span>make -j4
</span></code></pre></td></tr></table></div></figure>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[gitg 0.3.1]]></title>
    <link href="http://ktkr3d.github.io/blog/2014/01/10/gitg-0-dot-3-1/"/>
    <updated>2014-01-10T20:31:00+09:00</updated>
    <id>http://ktkr3d.github.io/blog/2014/01/10/gitg-0-dot-3-1</id>
    <content type="html"><![CDATA[<p><a href="http://ktkr3d.github.io/images/gitg_0.3.1_vala.png"><img src="http://ktkr3d.github.io/images/gitg_0.3.1_vala.png" title="gitg 0.3.1" alt="gitg 0.3.1" /></a></p>

<p><a href="https://wiki.gnome.org/Apps/Gitg#Get_gitg">https://wiki.gnome.org/Apps/Gitg#Get_gitg</a></p>

<p>VALA 言語で書き直されたgitg 0.3.1 がリリースされたので、ビルドして実行してみました。</p>

<!-- more -->


<h4>libgit2</h4>

<p>前提の<code>libgit2</code>をインストールします。<code>cmake</code> する際に<code>THREADSAFE</code> をON にしておきます。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>git clone https://github.com/libgit2/libgit2.git
</span><span class='line'><span class="nv">$ </span><span class="nb">cd </span>libgit2
</span><span class='line'><span class="nv">$ </span>mkdir build <span class="o">&amp;&amp;</span> <span class="nb">cd </span>build
</span><span class='line'><span class="nv">$ </span>cmake .. -DTHREADSAFE:BOOL<span class="o">=</span>ON
</span><span class='line'><span class="nv">$ </span>sudo cmake --build . --target install
</span></code></pre></td></tr></table></div></figure>


<h4>libgit2-glib</h4>

<p>前提の<code>libgit2-glib</code>をインストールします。API の引数が足らない旨のエラーが出るので、引数を追加します。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>git clone https://git.gnome.org/browse/libgit2-glib
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>./libgit2-glib/libgit2-glib/ggit-ref.c</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='vala'><span class='line'><span class="n">gboolean</span>
</span><span class='line'><span class="n">ggit_ref_has_reflog</span> <span class="p">(</span><span class="n">GgitRef</span> <span class="o">*</span><span class="kd">ref</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="n">g_return_val_if_fail</span> <span class="p">(</span><span class="n">GGIT_IS_REF</span> <span class="p">(</span><span class="kd">ref</span><span class="p">),</span> <span class="n">FALSE</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="c1">//   return git_reference_has_log (_ggit_native_get (ref)) == 1;</span>
</span><span class='line'>  <span class="k">return</span> <span class="n">git_reference_has_log</span> <span class="p">(</span><span class="n">_ggit_native_get</span> <span class="p">(</span><span class="kd">ref</span><span class="p">),</span> <span class="n">git_reference_name</span><span class="p">(</span><span class="kd">ref</span><span class="p">))</span> <span class="o">==</span> <span class="mi">1</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span><span class="nb">cd </span>libgit2-glib
</span><span class='line'><span class="nv">$ </span>./autogen.sh
</span><span class='line'><span class="nv">$ </span>make
</span><span class='line'><span class="nv">$ </span>sudo make install
</span></code></pre></td></tr></table></div></figure>


<h4>libgd</h4>

<p>libgd をダウンロードします。
後でgitg のフォルダにコピーします。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>git clone git://git.gnome.org/libgd
</span></code></pre></td></tr></table></div></figure>


<h4>gitg</h4>

<p><code>gitg</code>をインストールします。</p>

<p><code>https://download.gnome.org/sources/gitg/0.3/gitg-0.3.1.tar.xz</code></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span><span class="nb">cd </span>gitg-0.3.1
</span><span class='line'><span class="nv">$ </span>./autogen.sh
</span><span class='line'><span class="nv">$ </span>make
</span><span class='line'><span class="nv">$ </span>sudo make install
</span></code></pre></td></tr></table></div></figure>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Scroll up/down button add-on for firefox]]></title>
    <link href="http://ktkr3d.github.io/blog/2014/01/02/scroll-up-slash-down-button-add-on-for-firefox/"/>
    <updated>2014-01-02T15:41:00+09:00</updated>
    <id>http://ktkr3d.github.io/blog/2014/01/02/scroll-up-slash-down-button-add-on-for-firefox</id>
    <content type="html"><![CDATA[<p><a href="http://ktkr3d.github.io/images/scroll_buttons.png"><img src="http://ktkr3d.github.io/images/scroll_buttons.png"></a></p>

<p>Firefox にスクロールアップ/ダウンボタンを追加してみました。</p>

<!-- more -->


<p>タブレットにインストールしたLinux のFirefox ではタッチスクリーンを使ったスクロール操作が面倒でした。
スクロールバーは細くて扱い難く、スクロールバーの近辺のリンクは誤って選択してしまいます。</p>

<p>Android のようにドラッグでスクロールできるアドオンもありますが、副作用もあります。
ツールバーでスクロールボタンを実装しているアドオンを探してみましたが、見つけられませんでした。</p>

<p>幸い、ページ先頭/ページ末尾に移動できるボタンを実装したToolbar Buttons アドオンがありましたので、改造して代用することにしました。
XUL の<code>cmd_scrollBottom</code> を<code>cmd_scrollPageDown</code> に、<code>cmd_scrollTop</code> を<code>cmd_scrollPageUp</code> に置換しています。</p>

<h4>Toolbar Buttons アドオンのインストール</h4>

<p><a href="https://addons.mozilla.org/ja/firefox/addon/toolbar-buttons/">https://addons.mozilla.org/ja/firefox/addon/toolbar-buttons/</a></p>

<h4>スクリプトの改造(修正前)</h4>

<figure class='code'><figcaption><span>tbutton.jar/content/browser.xul</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'>oncommand=&quot;document.commandDispatcher.getControllerForCommand(&#39;cmd_scrollBottom&#39;).doCommand(&#39;cmd_scrollBottom&#39;);&quot; /&gt;
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>tbutton.jar/content/browser.xul</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'>oncommand=&quot;document.commandDispatcher.getControllerForCommand(&#39;cmd_scrollTop&#39;).doCommand(&#39;cmd_scrollTop&#39;);&quot; /&gt;
</span></code></pre></td></tr></table></div></figure>


<h4>スクリプトの改造(修正後)</h4>

<figure class='code'><figcaption><span>tbutton.jar/content/browser.xul</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'>oncommand=&quot;document.commandDispatcher.getControllerForCommand(&#39;cmd_scrollPageDown&#39;).doCommand(&#39;cmd_scrollPageDown&#39;);&quot; /&gt;
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>tbutton.jar/content/browser.xul</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'>oncommand=&quot;document.commandDispatcher.getControllerForCommand(&#39;cmd_scrollPageUp&#39;).doCommand(&#39;cmd_scrollPageUp&#39;);&quot; /&gt;
</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Remote Blogging with Octopress]]></title>
    <link href="http://ktkr3d.github.io/blog/2013/12/30/remote-blogging-with-octopress/"/>
    <updated>2013-12-30T10:09:00+09:00</updated>
    <id>http://ktkr3d.github.io/blog/2013/12/30/remote-blogging-with-octopress</id>
    <content type="html"><![CDATA[<p><a href="http://ktkr3d.github.io/images/octopress_helper.png"><img src="http://ktkr3d.github.io/images/octopress_helper.png"></a></p>

<p>モバイルPC からGitHub 上に構築したOctopress を更新してみます。
今回は、Octopress を設定済みのホストPC のリモートディレクトリをマウントして利用します。</p>

<!-- more -->


<h4>ホストPC のディスクをsshfs でマウント</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>ssh-keygen
</span><span class='line'><span class="nv">$ </span>ssh-copy-id -i ~/.ssh/id_rsa.pub username@hostname -p 22222
</span><span class='line'><span class="nv">$ </span>ssh username@hostname -p 22222
</span><span class='line'><span class="nv">$ </span>sshfs username@hostname:/mnt/common /mnt/common -p 22222 -o reconnect
</span></code></pre></td></tr></table></div></figure>


<p>自動でマウントするには、<code>gnome-session-properties</code> で設定するか、<code>/etc/fstab</code> に設定します。</p>

<h4>Ruby のインストール</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>curl -L https://get.rvm.io | bash -s stable --ruby
</span><span class='line'><span class="nv">$ </span>rvm install 1.9.3
</span><span class='line'><span class="nv">$ </span>rvm use 1.9.3
</span><span class='line'><span class="nv">$ </span>rvm rubygems latest
</span><span class='line'><span class="nv">$ </span><span class="nb">cd</span> /mnt/common/github/octopress
</span><span class='line'><span class="nv">$ </span>bundle install
</span></code></pre></td></tr></table></div></figure>


<h4>.bashrc の設定</h4>

<figure class='code'><figcaption><span>.bashrc</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:<span class="nv">$HOME</span>/.rvm/bin <span class="c"># Add RVM to PATH for scripting</span>
</span><span class='line'><span class="nb">source</span> <span class="nv">$HOME</span>/.rvm/scripts/rvm
</span></code></pre></td></tr></table></div></figure>


<h4>Git の設定</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>git config --global user.name <span class="s2">&quot;username&quot;</span>
</span><span class='line'><span class="nv">$ </span>git config --global user.email mail_account_name@mail_domain_name
</span></code></pre></td></tr></table></div></figure>


<h4>GitHub の設定</h4>

<p>GitHub にログインして~/.ssh/id_rsa.pub を登録</p>

<h4>Octopress Helper の設定</h4>

<p><a href="http://ktkr3d.github.io/blog/2013/10/08/yad/">http://ktkr3d.github.io/blog/2013/10/08/yad/</a></p>

<p><a href="http://ktkr3d.github.io/blog/2013/07/15/zenity-octopress-helper/">http://ktkr3d.github.io/blog/2013/07/15/zenity-octopress-helper/</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Cleaning]]></title>
    <link href="http://ktkr3d.github.io/blog/2013/12/29/cleaning/"/>
    <updated>2013-12-29T12:40:00+09:00</updated>
    <id>http://ktkr3d.github.io/blog/2013/12/29/cleaning</id>
    <content type="html"><![CDATA[<p>年末だし、ハードディスクの中の重複したファイルを見つけて、削除してしまおう。</p>

<!-- more -->


<h4>対象とするファイル</h4>

<ul>
<li>ファイルサイズが大きめ</li>
<li>不完全なファイルも存在する</li>
<li>ディレクトリ階層を再帰的に検索</li>
</ul>


<p>そのため、先頭1MB を対象としたハッシュ比較により、ファイルの同一性を検出します。</p>

<h4>スクリプト</h4>

<figure class='code'><figcaption><span>~/test.sh</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c">#!/bin/sh</span>
</span><span class='line'>
</span><span class='line'>cp /dev/null /tmp/list0.txt
</span><span class='line'>find . -type f -exec dd <span class="k">if</span><span class="o">={}</span> <span class="nv">bs</span><span class="o">=</span>1024 <span class="nv">count</span><span class="o">=</span>1000 <span class="nv">of</span><span class="o">=</span>/tmp/work.bin <span class="se">\;</span> -exec md5sum /tmp/work.bin &gt;&gt; /tmp/list0.txt <span class="se">\;</span> -exec du <span class="o">{}</span>  &gt;&gt; /tmp/list0.txt <span class="se">\;</span>
</span><span class='line'>sed <span class="s1">&#39;:loop; N; $!b loop; ;s/\/tmp\/work.bin\n//g&#39;</span> /tmp/list0.txt &gt; /tmp/list1.txt
</span><span class='line'>sort /tmp/list1.txt | uniq -D -w 32  &gt; /tmp/list2.txt
</span><span class='line'>rm /tmp/work.bin /tmp/list0.txt
</span></code></pre></td></tr></table></div></figure>


<h4>スクリプトの実行</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span><span class="nb">cd</span> /PATH/TO/TARGET
</span><span class='line'><span class="nv">$ </span><span class="nb">time</span> ~/test.sh
</span></code></pre></td></tr></table></div></figure>


<h4>実行結果</h4>

<table>
<thead>
<tr>
<th align="left">出力されるファイル</th>
<th align="left">内容</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">/tmp/list1.txt</td>
<td align="left">ハッシュとサイズとパス</td>
</tr>
<tr>
<td align="left">/tmp/list2.txt</td>
<td align="left">重複しているファイルの一覧</td>
</tr>
</tbody>
</table>


<h3>ファイルの削除</h3>

<p>ファイルのサイズとディレクトリを参照して冗長なファイルを削除します。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Add remote location over SSH on XBMC]]></title>
    <link href="http://ktkr3d.github.io/blog/2013/12/22/add-remote-location-over-ssh-on-xbmc/"/>
    <updated>2013-12-22T10:50:00+09:00</updated>
    <id>http://ktkr3d.github.io/blog/2013/12/22/add-remote-location-over-ssh-on-xbmc</id>
    <content type="html"><![CDATA[<p><a href="http://ktkr3d.github.io/images/xbmc-ssh.png"><img src="http://ktkr3d.github.io/images/xbmc-ssh.png"></a></p>

<p>外出先から自宅のPC に格納しているメディアにアクセスするためにXBMC を設定してみました。</p>

<!-- more -->


<p>Android やモバイルLinux にインストールしたXBMC からSSH 経由で自宅PC のメディアにアクセスするには、<code>Add network location</code> で <code>Secure Shell (SSH/SFTP)</code> プロトコルを選択します。</p>

<p>以下のクライアントで動作確認できました。</p>

<ul>
<li>Android 4.2 + XBMC 12.2</li>
<li>Android-x86 4.0 + XBMC 13.0 alpha10</li>
<li>Ubuntu GNOME 14.04 alpha1 + XBMC 12.0</li>
</ul>


<p>Linux の場合はsshfs でマウントしておいた方が何かと便利</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>ssh-keygen
</span><span class='line'><span class="nv">$ </span>ssh-copy-id -i .ssh/id_rsa.pub useranme@hostname -p 22222
</span></code></pre></td></tr></table></div></figure>


<p><code>gnome-session-properties</code> で自動起動するアプリケーションに以下を追加</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>sshfs username@hostname:/mnt/common /mnt/common -p 22222 -o reconnect
</span></code></pre></td></tr></table></div></figure>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[SteamOS]]></title>
    <link href="http://ktkr3d.github.io/blog/2013/12/14/steamos/"/>
    <updated>2013-12-14T22:55:00+09:00</updated>
    <id>http://ktkr3d.github.io/blog/2013/12/14/steamos</id>
    <content type="html"><![CDATA[<p><a href="http://ktkr3d.github.io/images/SteamOS-desktop.png"><img src="http://ktkr3d.github.io/images/SteamOS-desktop.png"></a></p>

<p><a href="http://store.steampowered.com/steamos/">http://store.steampowered.com/steamos/</a></p>

<p><a href="https://gist.github.com/voltagex/7955961">https://gist.github.com/voltagex/7955961</a></p>

<p><a href="http://www.redgamingtech.com/how-to-install-steamos-on-virtual-box-virtual-machine/">http://www.redgamingtech.com/how-to-install-steamos-on-virtual-box-virtual-machine/</a></p>

<p>SteamOS のベータ版がリリースされたので、インストールしてみました。</p>

<!-- more -->


<p><a href="http://ktkr3d.github.io/images/steamos.png"><img src="http://ktkr3d.github.io/images/steamos_tn.png"></a></p>

<p>SteamOS はDebian ベースのようです。
手順にしたがってISO に変換して仮想環境にインストールしてみました。
たまたま外出中で手元にPC がないので、スマートフォンから自宅のLinux マシンにVNC over SSH で繋いで作業してみました。ソフトキーボードは面倒ですね。</p>

<p>PrintScreen キーが使えなかったので、xwd を使いましたが、画像が少し変です。</p>

<p><a href="http://ktkr3d.github.io/images/SteamOS-login.png"><img src="http://ktkr3d.github.io/images/SteamOS-login.png"></a></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="c"># uname -a</span>
</span><span class='line'>Linux steamos 3.10-3-amd64 <span class="c">#1 SMP Debian 3.10.11-1st1 (2013-11-15) x86_64 GNU/Linux</span>
</span><span class='line'><span class="c"># gnome-shell --version</span>
</span><span class='line'>GNOME Shell 3.4.2
</span></code></pre></td></tr></table></div></figure>


<h4>魔改造</h4>

<figure class='code'><figcaption><span>/etc/apt/sources.list</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='text'><span class='line'>deb http://ftp.jp.debian.org/debian stable main contrib non-free
</span><span class='line'>deb-src http://ftp.jp.debian.org/debian stable main contrib non-free
</span><span class='line'>
</span><span class='line'>deb http://ftp.debian.org/debian/ wheezy-updates main contrib non-free
</span><span class='line'>deb-src http://ftp.debian.org/debian/ wheezy-updates main contrib non-free
</span><span class='line'>
</span><span class='line'>deb http://security.debian.org/ wheezy/updates main contrib non-free
</span><span class='line'>deb-src http://security.debian.org/ wheezy/updates main contrib non-free
</span></code></pre></td></tr></table></div></figure>


<p><a href="http://ktkr3d.github.io/images/SteamOS-japanese.png"><img src="http://ktkr3d.github.io/images/SteamOS-japanese.png"></a></p>

<figure class='code'><figcaption><span>/etc/apt/sources.list</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='text'><span class='line'>deb http://ftp.jp.debian.org/debian experimental main contrib non-free
</span><span class='line'>deb-src http://ftp.jp.debian.org/debian experimental main contrib non-free
</span><span class='line'>
</span><span class='line'>deb http://ftp.debian.org/debian/ -updates main contrib non-free
</span><span class='line'>deb-src http://ftp.debian.org/debian/ -updates main contrib non-free
</span><span class='line'>
</span><span class='line'>deb http://security.debian.org/ /updates main contrib non-free
</span><span class='line'>deb-src http://security.debian.org/ /updates main contrib non-free
</span></code></pre></td></tr></table></div></figure>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Ubuntu GNOME + GNOME3 PPA]]></title>
    <link href="http://ktkr3d.github.io/blog/2013/12/01/ubuntu-gnome-plus-gnome3-ppa/"/>
    <updated>2013-12-01T10:25:00+09:00</updated>
    <id>http://ktkr3d.github.io/blog/2013/12/01/ubuntu-gnome-plus-gnome3-ppa</id>
    <content type="html"><![CDATA[<p>Ubuntu GNOME にGNOME3 関連PPA を継ぎ足すのですが、各PPA に含まれるパッケージおよびそのバージョンに凸凹があったので、整理してみました。</p>

<!-- more -->


<h4>GNOME3 関連PPA</h4>

<ul>
<li>ppa:gnome3-team/gnome3-staging</li>
<li>ppa:gnome3-team/gnome3-next</li>
<li>ppa:ricotz/testing</li>
</ul>


<h4>Ubuntu GNOME 13.10 + GNOME3 PPA</h4>

<table>
<thead>
<tr>
<th align="left"></th>
<th align="left">Staging</th>
<th align="left">Next</th>
<th align="left">Testing</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">clutter</td>
<td align="left">1.14.4</td>
<td align="left">1.14.4</td>
<td align="left">1.14.5</td>
</tr>
<tr>
<td align="left">gnome-control-center</td>
<td align="left">3.10.1</td>
<td align="left">&ndash;</td>
<td align="left">&ndash;</td>
</tr>
<tr>
<td align="left">gnome-desktop3</td>
<td align="left">3.10.1</td>
<td align="left">&ndash;</td>
<td align="left">&ndash;</td>
</tr>
<tr>
<td align="left">gnome-shell</td>
<td align="left">3.10.2.1</td>
<td align="left">3.10.1</td>
<td align="left">3.11.2</td>
</tr>
<tr>
<td align="left">gnome-tweak-tool</td>
<td align="left">3.10.1</td>
<td align="left">&ndash;</td>
<td align="left">3.9.0</td>
</tr>
<tr>
<td align="left">gtk+3.0</td>
<td align="left">3.10.5</td>
<td align="left">3.10.4</td>
<td align="left">3.11.3</td>
</tr>
<tr>
<td align="left">mutter</td>
<td align="left">3.10.1.1</td>
<td align="left">3.10.1.1</td>
<td align="left">3.11.2</td>
</tr>
</tbody>
</table>


<h4>Ubuntu GNOME 14.04 + GNOME3 PPA</h4>

<table>
<thead>
<tr>
<th align="left"></th>
<th align="left">Staging</th>
<th align="left">Next</th>
<th align="left">Testing</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">clutter</td>
<td align="left">1.16.0</td>
<td align="left">&ndash;</td>
<td align="left">1.14.5</td>
</tr>
<tr>
<td align="left">gnome-control-center</td>
<td align="left">&ndash;</td>
<td align="left">&ndash;</td>
<td align="left">&ndash;</td>
</tr>
<tr>
<td align="left">gnome-desktop3</td>
<td align="left">3.11.1</td>
<td align="left">&ndash;</td>
<td align="left">3.10.0</td>
</tr>
<tr>
<td align="left">gnome-shell</td>
<td align="left">3.10.2.1</td>
<td align="left">&ndash;</td>
<td align="left">3.11.2</td>
</tr>
<tr>
<td align="left">gnome-tweak-tool</td>
<td align="left">&ndash;</td>
<td align="left">&ndash;</td>
<td align="left">&ndash;</td>
</tr>
<tr>
<td align="left">gtk+3.0</td>
<td align="left">3.11.2</td>
<td align="left">&ndash;</td>
<td align="left">3.11.3</td>
</tr>
<tr>
<td align="left">mutter</td>
<td align="left">3.10.1.1</td>
<td align="left">&ndash;</td>
<td align="left">3.11.2</td>
</tr>
</tbody>
</table>


<h4>まとめ</h4>

<p>現時点でUbuntu GNOME 14.04 の環境を新しいパッケージで整えるとしたら、Staging + Testing を基本として、13.10 のStaging からgnome-control-center とgnome-tweak-tool を入れるのが良さそうです。
混ぜると危険な気もしますけど。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Partitions]]></title>
    <link href="http://ktkr3d.github.io/blog/2013/11/23/partitions/"/>
    <updated>2013-11-23T15:44:00+09:00</updated>
    <id>http://ktkr3d.github.io/blog/2013/11/23/partitions</id>
    <content type="html"><![CDATA[<p>構成変更前のパーティションレイアウトのメモ。</p>

<p>Markdown だと表組みが簡単に書けていいね。</p>

<!-- more -->


<h4>PC1 &ndash; sda</h4>

<p>Hitachi HDS72105 465.76 GiB</p>

<table>
<thead>
<tr>
<th align="left">Partition</th>
<th align="right">Size</th>
<th align="left">FS</th>
<th align="left">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">sda1</td>
<td align="right">0.35 GiB</td>
<td align="left">ntfs</td>
<td align="left">efi</td>
</tr>
<tr>
<td align="left">sda2</td>
<td align="right">150.00 GiB</td>
<td align="left">ntfs</td>
<td align="left">Windows 8</td>
</tr>
<tr>
<td align="left">sda3</td>
<td align="right">150.00 GiB</td>
<td align="left">ext4</td>
<td align="left">Ubuntu GNOME 12.10</td>
</tr>
<tr>
<td align="left">sda6</td>
<td align="right">150.00 GiB</td>
<td align="left">ext4</td>
<td align="left">Ubuntu GNOME 13.10</td>
</tr>
<tr>
<td align="left">sda5</td>
<td align="right">15.42 GiB</td>
<td align="left">linux-swap</td>
<td align="left">swap</td>
</tr>
</tbody>
</table>


<h4>PC1 &ndash; sdb</h4>

<p>WDC WD30EZRX-00D 2.73 TiB</p>

<table>
<thead>
<tr>
<th align="left">Partition</th>
<th align="right">Size</th>
<th align="left">FS</th>
<th align="left">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">&ndash;</td>
<td align="right">0.40 GiB</td>
<td align="left">ntfs</td>
<td align="left">&ndash;</td>
</tr>
<tr>
<td align="left">sdb5</td>
<td align="right">500.00 GiB</td>
<td align="left">ext4</td>
<td align="left">Ubuntu GNOME 13.04</td>
</tr>
<tr>
<td align="left">&ndash;</td>
<td align="right">499.61 GiB</td>
<td align="left">&ndash;</td>
<td align="left">&ndash;</td>
</tr>
<tr>
<td align="left">sdb3</td>
<td align="right">1.71 TiB</td>
<td align="left">ext4</td>
<td align="left">common</td>
</tr>
<tr>
<td align="left">sdb4</td>
<td align="right">44.52 GiB</td>
<td align="left">linux-swap</td>
<td align="left">swap</td>
</tr>
</tbody>
</table>


<h4>PC2 &ndash; sda</h4>

<p>Hitachi HTS72323 298.09 GiB</p>

<table>
<thead>
<tr>
<th align="left">Partition</th>
<th align="right">Size</th>
<th align="left">FS</th>
<th align="left">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">sda1</td>
<td align="right">0.35 GiB</td>
<td align="left">ntfs</td>
<td align="left">efi</td>
</tr>
<tr>
<td align="left">sda2</td>
<td align="right">150.00 GiB</td>
<td align="left">ntfs</td>
<td align="left">Windows 8</td>
</tr>
<tr>
<td align="left">sda3</td>
<td align="right">145.00 GiB</td>
<td align="left">ext4</td>
<td align="left">Ubuntu GNOME 13.10<br>Android-x86 4.3</td>
</tr>
<tr>
<td align="left">sda4</td>
<td align="right">2.75 GiB</td>
<td align="left">linux-swap</td>
<td align="left">swap</td>
</tr>
</tbody>
</table>


<h4>PC3 &ndash; hda</h4>

<p>Hitachi HMS360606D5CF00 6.0 GB</p>

<table>
<thead>
<tr>
<th align="left">Partition</th>
<th align="right">Size</th>
<th align="left">FS</th>
<th align="left">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">hda1</td>
<td align="right">0.13 GiB</td>
<td align="left">ext</td>
<td align="left">Lineo Linux</td>
</tr>
<tr>
<td align="left">hda2</td>
<td align="right">0.13 GiB</td>
<td align="left">linux-swap</td>
<td align="left">swap</td>
</tr>
<tr>
<td align="left">hda3</td>
<td align="right">5.29 GiB</td>
<td align="left">ext</td>
<td align="left">Debian</td>
</tr>
</tbody>
</table>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[WordPress to Jekyll]]></title>
    <link href="http://ktkr3d.github.io/blog/2013/11/16/wordpress-to-jekyll/"/>
    <updated>2013-11-16T15:23:00+09:00</updated>
    <id>http://ktkr3d.github.io/blog/2013/11/16/wordpress-to-jekyll</id>
    <content type="html"><![CDATA[<p>無料Webサービスに設置していたブログのデータが消されてしまったので、バックアップデータをGitHub Pages に取り込むことにしました。
exitwp というスクリプトを使って、WordPress のデータをmarkdown に変換して、Octopress/Jekyll に取り込みました。</p>

<p><a href="https://github.com/thomasf/exitwp">https://github.com/thomasf/exitwp</a></p>

<!-- more -->


<h4>exitwp を取得</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nv">$ </span>git clone https://github.com/thomasf/exitwp
</span><span class='line'><span class="nv">$ </span><span class="nb">cd </span>exitwp
</span></code></pre></td></tr></table></div></figure>


<h4>バックアップデータを格納</h4>

<p><code>./wordpress-xml/wordpress.xml</code></p>

<h4>前提パッケージをインストール</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nv">$ </span>sudo apt-get install python-yaml python-bs4 python-html2text
</span><span class='line'><span class="nv">$ </span>sudo pip install --upgrade  -r pip_requirements.txt
</span></code></pre></td></tr></table></div></figure>


<h4>変換実行</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nv">$ </span>python exitwp.py
</span></code></pre></td></tr></table></div></figure>


<h4>Octopress/Jekyll へ取り込み</h4>

<p><code>./build/</code>ディレクトリに作成されたデータをOctopress/Jekyll のディレクトリにコピーしてGenerate &amp; Deploy します。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[screenfetch]]></title>
    <link href="http://ktkr3d.github.io/blog/2013/11/09/screenfetch/"/>
    <updated>2013-11-09T08:56:00+09:00</updated>
    <id>http://ktkr3d.github.io/blog/2013/11/09/screenfetch</id>
    <content type="html"><![CDATA[<p><a href="http://ktkr3d.github.io/images/screenfetch_debian.png"><img src="http://ktkr3d.github.io/images/screenfetch_debian_tn.png"></a></p>

<p><a href="http://www.unixmen.com/find-system-information-screenfetch-tool/">http://www.unixmen.com/find-system-information-screenfetch-tool/</a></p>

<p>ScreenFetch でシステム情報を表示してみました。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[minetest]]></title>
    <link href="http://ktkr3d.github.io/blog/2013/11/04/minetest/"/>
    <updated>2013-11-04T21:28:00+09:00</updated>
    <id>http://ktkr3d.github.io/blog/2013/11/04/minetest</id>
    <content type="html"><![CDATA[<p><a href="http://ktkr3d.github.io/images/minetest_ogl42.png"><img src="http://ktkr3d.github.io/images/minetest_ogl42_tn.png"></a></p>

<p><a href="http://minetest.net/">http://minetest.net/</a></p>

<p>minecraft のクローンminetest がUbuntu の標準リポジトリに登録されていたので、遊んでみました。
minetest はIrrlicht エンジンを利用して実装されています。
動作は軽快ですが、一部文字が表示されない箇所がありました。</p>

<!-- more -->


<h4>サーバへの接続方法</h4>

<p>初期画面の一部の文字が表示されていなかったので、適当に勘を働かせて操作してみます。</p>

<ol>
<li>左から二番目のタブ(マルチプレイヤー)を選択</li>
<li>下のテキストボックスに、サーバのIP アドレスとポート番号を入力(<code>http://servers.minetest.net/</code>から適当に選ぶ)</li>
<li>右上から二番目のテキストボックスにパスワードを入力</li>
<li>右下のボタン(接続)を押下</li>
</ol>


<p>グラフィックがオンボードでATOM なOpenGL 1.4 の環境で動かしてみると、さすがに重かったです。</p>

<p><a href="http://ktkr3d.github.io/images/minetest_ogl14.png"><img src="http://ktkr3d.github.io/images/minetest_ogl14_tn.png"></a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Conky Google Now]]></title>
    <link href="http://ktkr3d.github.io/blog/2013/11/02/conky-google-now/"/>
    <updated>2013-11-02T12:05:00+09:00</updated>
    <id>http://ktkr3d.github.io/blog/2013/11/02/conky-google-now</id>
    <content type="html"><![CDATA[<p><a href="http://ktkr3d.github.io/images/conky_google_now.png"><img src="http://ktkr3d.github.io/images/conky_google_now_tn.png"></a></p>

<p><a href="http://satya164.deviantart.com/art/Conky-Google-Now-366545753">http://satya164.deviantart.com/art/Conky-Google-Now-366545753</a></p>

<p>ConkyForecast のスクリプトがうまく動かなくなったので、Conky Google Now に乗り換えてみました。
フォントをOpen Sans Light に統一しようかと思いましたが、行間が空いてしまったので止めておきました。</p>

<!-- more -->




<figure class='code'><figcaption><span>.conkyrc</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
<span class='line-number'>114</span>
<span class='line-number'>115</span>
<span class='line-number'>116</span>
</pre></td><td class='code'><pre><code class='text'><span class='line'># Conky Google Now style #
</span><span class='line'>
</span><span class='line'># Conky settings #
</span><span class='line'>background no
</span><span class='line'>update_interval 1
</span><span class='line'>double_buffer yes
</span><span class='line'>no_buffers yes
</span><span class='line'>
</span><span class='line'># Window specifications #
</span><span class='line'>own_window yes
</span><span class='line'>own_window_type normal
</span><span class='line'>own_window_hints undecorated,below,sticky,skip_taskbar,skip_pager
</span><span class='line'>own_window_title
</span><span class='line'>own_window_colour 2D2D2D
</span><span class='line'>
</span><span class='line'>minimum_size 220
</span><span class='line'>maximum_width 220
</span><span class='line'>
</span><span class='line'># Alignment #
</span><span class='line'>alignment tr
</span><span class='line'>gap_x 10
</span><span class='line'>gap_y 10
</span><span class='line'>
</span><span class='line'>border_inner_margin 15
</span><span class='line'>border_outer_margin 0
</span><span class='line'>
</span><span class='line'># Graphics settings #
</span><span class='line'>draw_shades no
</span><span class='line'>draw_outline no
</span><span class='line'>draw_borders no
</span><span class='line'>draw_graph_borders no
</span><span class='line'>
</span><span class='line'># Text settings #
</span><span class='line'>use_xft yes
</span><span class='line'>xftalpha 0
</span><span class='line'>xftfont Open Sans Light:size=10
</span><span class='line'>
</span><span class='line'>override_utf8_locale yes
</span><span class='line'>
</span><span class='line'>imlib_cache_size 0
</span><span class='line'>
</span><span class='line'># Color scheme #
</span><span class='line'>default_color DCDCDC
</span><span class='line'>
</span><span class='line'>color1 0099CC
</span><span class='line'>color2 9933CC
</span><span class='line'>color3 669900
</span><span class='line'>color4 FF8800
</span><span class='line'>color5 CC0000
</span><span class='line'>color6 AAAAAA
</span><span class='line'>color7 484848
</span><span class='line'>
</span><span class='line'>TEXT
</span><span class='line'>${font Open Sans Light:size=13}${time %G}/${time %m}/${time %d} (${font TakaoPGothic:size=13}${time %a}${voffset -2}${font Open Sans Light:size=13})${alignr}${time %H}:${time %M}:${time %S}
</span><span class='line'>${voffset -10}${hr}${color}${voffset -5}
</span><span class='line'># WEATHER
</span><span class='line'>${execi 300 curl -s &quot;http://weather.yahooapis.com/forecastrss?w=1118370&amp;u=c&quot; -o ~/.cache/weather.xml}${font Open Sans Light:size=15}${execi 300 grep &quot;yweather:location&quot; ~/.cache/weather.xml | grep -o &quot;city=\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;[^\&quot;]*&quot;}, ${execi 300 grep &quot;yweather:location&quot; ~/.cache/weather.xml | grep -o &quot;country=\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;[^\&quot;]*&quot;}${font}
</span><span class='line'>${voffset -20}${font Open Sans Light:size=48}${alignr}${execi 300 grep &quot;yweather:condition&quot; ~/.cache/weather.xml | grep -o &quot;temp=\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;[^\&quot;]*&quot;}°${font}${voffset -15}
</span><span class='line'>${execi 300 cp -f ~/.conky-google-now/$(grep &quot;yweather:condition&quot; ~/.cache/weather.xml | grep -o &quot;code=\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;[^\&quot;]*&quot;).png ~/.cache/weather.png}${image ~/.cache/weather.png -p 0,60 -s 60x60}
</span><span class='line'>${execi 300 grep &quot;yweather:condition&quot; ~/.cache/weather.xml | grep -o &quot;text=\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;[^\&quot;]*&quot; | tr &#39;[a-z]&#39; &#39;[A-Z]&#39;}
</span><span class='line'>${image ~/.conky-google-now/wind.png -p 0,140 -s 15x15}${goto 35}${execi 300 grep &quot;yweather:wind&quot; ~/.cache/weather.xml | grep -o &quot;speed=\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;[^\&quot;]*&quot;}${execi 300 grep &quot;yweather:units&quot; ~/.cache/weather.xml | grep -o &quot;speed=\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;[^\&quot;]*&quot;}
</span><span class='line'>${image ~/.conky-google-now/humidity.png -p 0,160 -s 15x15}${goto 35}${execi 300 grep &quot;yweather:atmosphere&quot; ~/.cache/weather.xml | grep -o &quot;humidity=\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;[^\&quot;]*&quot;}%${voffset 10}
</span><span class='line'>${goto 18}${execi 300 grep &quot;yweather:forecast&quot; ~/.cache/weather.xml | grep -o &quot;day=\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;[^\&quot;]*&quot; | awk &#39;NR==1&#39; | tr &#39;[a-z]&#39; &#39;[A-Z]&#39;}${goto 60}${execi 300 grep &quot;yweather:forecast&quot; ~/.cache/weather.xml | grep -o &quot;day=\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;[^\&quot;]*&quot; | awk &#39;NR==2&#39; | tr &#39;[a-z]&#39; &#39;[A-Z]&#39;}${goto 105}${execi 300 grep &quot;yweather:forecast&quot; ~/.cache/weather.xml | grep -o &quot;day=\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;[^\&quot;]*&quot; | awk &#39;NR==3&#39; | tr &#39;[a-z]&#39; &#39;[A-Z]&#39;}${goto 150}${execi 300 grep &quot;yweather:forecast&quot; ~/.cache/weather.xml | grep -o &quot;day=\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;[^\&quot;]*&quot; | awk &#39;NR==4&#39; | tr &#39;[a-z]&#39; &#39;[A-Z]&#39;}${goto 195}${execi 300 grep &quot;yweather:forecast&quot; ~/.cache/weather.xml | grep -o &quot;day=\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;[^\&quot;]*&quot; | awk &#39;NR==5&#39; | tr &#39;[a-z]&#39; &#39;[A-Z]&#39;}
</span><span class='line'>${execi 300 cp -f ~/.conky-google-now/$(grep &quot;yweather:forecast&quot; ~/.cache/weather.xml | grep -o &quot;code=\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;[^\&quot;]*&quot; | awk &#39;NR==1&#39;).png ~/.cache/weather-1.png}${image ~/.cache/weather-1.png -p 0,210 -s 30x30}${execi 300 cp -f ~/.conky-google-now/$(grep &quot;yweather:forecast&quot; ~/.cache/weather.xml | grep -o &quot;code=\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;[^\&quot;]*&quot; | awk &#39;NR==2&#39;).png ~/.cache/weather-2.png}${image ~/.cache/weather-2.png -p 45,210 -s 30x30}${execi 300 cp -f ~/.conky-google-now/$(grep &quot;yweather:forecast&quot; ~/.cache/weather.xml | grep -o &quot;code=\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;[^\&quot;]*&quot; | awk &#39;NR==3&#39;).png ~/.cache/weather-3.png}${image ~/.cache/weather-3.png -p 90,210 -s 30x30}${execi 300 cp -f ~/.conky-google-now/$(grep &quot;yweather:forecast&quot; ~/.cache/weather.xml | grep -o &quot;code=\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;[^\&quot;]*&quot; | awk &#39;NR==4&#39;).png ~/.cache/weather-4.png}${image ~/.cache/weather-4.png -p 135,210 -s 30x30}${execi 300 cp -f ~/.conky-google-now/$(grep &quot;yweather:forecast&quot; ~/.cache/weather.xml | grep -o &quot;code=\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;[^\&quot;]*&quot; | awk &#39;NR==5&#39;).png ~/.cache/weather-5.png}${image ~/.cache/weather-5.png -p 180,210 -s 30x30}${voffset 20}
</span><span class='line'>${color ffaaaa}${goto 20}${execi 300 grep &quot;yweather:forecast&quot; ~/.cache/weather.xml | grep -o &quot;high=\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;[^\&quot;]*&quot; | awk &#39;NR==1&#39;}°${goto 65}${execi 300 grep &quot;yweather:forecast&quot; ~/.cache/weather.xml | grep -o &quot;high=\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;[^\&quot;]*&quot; | awk &#39;NR==2&#39;}°${goto 110}${execi 300 grep &quot;yweather:forecast&quot; ~/.cache/weather.xml | grep -o &quot;high=\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;[^\&quot;]*&quot; | awk &#39;NR==3&#39;}°${goto 155}${execi 300 grep &quot;yweather:forecast&quot; ~/.cache/weather.xml | grep -o &quot;high=\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;[^\&quot;]*&quot; | awk &#39;NR==4&#39;}°${goto 200}${execi 300 grep &quot;yweather:forecast&quot; ~/.cache/weather.xml | grep -o &quot;high=\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;[^\&quot;]*&quot; | awk &#39;NR==5&#39;}°
</span><span class='line'>${voffset -5}${color aaaaff}${goto 20}${execi 300 grep &quot;yweather:forecast&quot; ~/.cache/weather.xml | grep -o &quot;low=\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;[^\&quot;]*&quot; | awk &#39;NR==1&#39;}°${goto 65}${execi 300 grep &quot;yweather:forecast&quot; ~/.cache/weather.xml | grep -o &quot;low=\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;[^\&quot;]*&quot; | awk &#39;NR==2&#39;}°${goto 110}${execi 300 grep &quot;yweather:forecast&quot; ~/.cache/weather.xml | grep -o &quot;low=\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;[^\&quot;]*&quot; | awk &#39;NR==3&#39;}°${goto 155}${execi 300 grep &quot;yweather:forecast&quot; ~/.cache/weather.xml | grep -o &quot;low=\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;[^\&quot;]*&quot; | awk &#39;NR==4&#39;}°${goto 200}${execi 300 grep &quot;yweather:forecast&quot; ~/.cache/weather.xml | grep -o &quot;low=\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;\&quot;[^\&quot;]*\&quot;&quot; | grep -o &quot;[^\&quot;]*&quot; | awk &#39;NR==5&#39;}°
</span><span class='line'># *** SYSTEM ***
</span><span class='line'>${color AAAAAA}${voffset 16}${font DejaVu Sans:size=12}SYSTEM${font} ${hr}
</span><span class='line'>#${alignc 17}${font Arial Black:size=12}${nodename}${font}
</span><span class='line'>${font StyleBats:size=10}i${font DejaVu Sans:size=10}   Distro:  ${alignr}${exec lsb_release -d | sed -e &#39;s/.*: //&#39; | awk &#39;{print $2,$3}&#39;}
</span><span class='line'>${font StyleBats:size=10}i${font DejaVu Sans:size=10}   Kernel:  ${alignr}${kernel}
</span><span class='line'>${font StyleBats:size=10}i${font DejaVu Sans:size=10}   Arch:  ${alignr}${machine}
</span><span class='line'>${font StyleBats:size=10}A${font DejaVu Sans:size=10}   CPU1: ${cpu cpu1}% ${alignr}${cpubar cpu1 8,60}
</span><span class='line'>${font StyleBats:size=10}A${font DejaVu Sans:size=10}   CPU2: ${cpu cpu2}% ${alignr}${cpubar cpu2 8,60}
</span><span class='line'>${font StyleBats:size=10}A${font DejaVu Sans:size=10}   CPU3: ${cpu cpu3}% ${alignr}${cpubar cpu3 8,60}
</span><span class='line'>${font StyleBats:size=10}A${font DejaVu Sans:size=10}   CPU4: ${cpu cpu4}% ${alignr}${cpubar cpu4 8,60}
</span><span class='line'>${font StyleBats:size=10}A${font DejaVu Sans:size=10}   CPU5: ${cpu cpu5}% ${alignr}${cpubar cpu5 8,60}
</span><span class='line'>${font StyleBats:size=10}A${font DejaVu Sans:size=10}   CPU6: ${cpu cpu6}% ${alignr}${cpubar cpu6 8,60}
</span><span class='line'>${font StyleBats:size=10}A${font DejaVu Sans:size=10}   CPU7: ${cpu cpu7}% ${alignr}${cpubar cpu7 8,60}
</span><span class='line'>${font StyleBats:size=10}A${font DejaVu Sans:size=10}   CPU8: ${cpu cpu8}% ${alignr}${cpubar cpu8 8,60}
</span><span class='line'>${font StyleBats:size=10}g${font DejaVu Sans:size=10}   RAM: $memperc% ${alignr}${membar 8,60}
</span><span class='line'>${font StyleBats:size=10}j${font DejaVu Sans:size=10}   Swap: $swapperc% ${alignr}${swapbar 8,60}
</span><span class='line'>#${font Webdings:size=10}~${font DejaVu Sans:size=10}  Battery: ${battery_percent BAT0}% ${alignr}${battery_bar 8,60 BAT0}
</span><span class='line'>${font StyleBats:size=10}q${font DejaVu Sans:size=10}   Uptime: ${alignr}${uptime}
</span><span class='line'># *** FILESYSTEM ***
</span><span class='line'>${voffset 16}${font DejaVu Sans:size=12}FILESYSTEM${font} ${hr}
</span><span class='line'>${font PizzaDude Bullets:size=10}m${font DejaVu Sans:size=10}   /:${alignr}${fs_type /}
</span><span class='line'>        ${fs_used /} / ${fs_size /} ${alignr}${fs_bar 8,60 /}
</span><span class='line'>${font PizzaDude Bullets:size=10}m${font DejaVu Sans:size=10}   /mnt/common:${alignr}${fs_type /mnt/common}
</span><span class='line'>        ${fs_used /mnt/common} / ${fs_size /mnt/common} ${alignr}${fs_bar 8,60 /mnt/common}
</span><span class='line'># *** NETWORK ***
</span><span class='line'>${voffset 16}${font DejaVu Sans:size=12}NETWORK${font} ${hr}#
</span><span class='line'>${if_existing /proc/net/route wlan0}
</span><span class='line'>${font PizzaDude Bullets:size=10}O${font DejaVu Sans:size=10}   Up: ${upspeed wlan0} ${alignr}${upspeedgraph wlan0 8,60 000000 000000}
</span><span class='line'>${font PizzaDude Bullets:size=10}U${font DejaVu Sans:size=10}   Down: ${downspeed wlan0} ${alignr}${downspeedgraph wlan0 8,60 000000 000000}
</span><span class='line'>${font PizzaDude Bullets:size=10}N${font DejaVu Sans:size=10}   Upload: ${alignr}${totalup wlan0}
</span><span class='line'>${font PizzaDude Bullets:size=10}T${font DejaVu Sans:size=10}   Download: ${alignr}${totaldown wlan0}
</span><span class='line'>${font PizzaDude Bullets:size=10}Z${font DejaVu Sans:size=10}   Signal: ${wireless_link_qual wlan0}% ${alignr}${wireless_link_bar 8,60 wlan0}
</span><span class='line'>${font PizzaDude Bullets:size=10}a${font DejaVu Sans:size=10}   Local IP: ${alignr}${addr wlan0}
</span><span class='line'>${font PizzaDude Bullets:size=10}b${font DejaVu Sans:size=10}   Public IP: ${alignr}${execi 1800 ~/.conky/scripts/ip.sh}#
</span><span class='line'>${else}${if_existing /proc/net/route eth0}
</span><span class='line'>${font PizzaDude Bullets:size=10}O${font DejaVu Sans:size=10}   Up: ${upspeed eth0} ${alignr}${upspeedgraph eth0 8,60 000000 000000}
</span><span class='line'>${font PizzaDude Bullets:size=10}U${font DejaVu Sans:size=10}   Down: ${downspeed eth0} ${alignr}${downspeedgraph eth0 8,60 000000 000000}
</span><span class='line'>${font PizzaDude Bullets:size=10}N${font DejaVu Sans:size=10}   Upload: ${alignr}${totalup eth0}
</span><span class='line'>${font PizzaDude Bullets:size=10}T${font DejaVu Sans:size=10}   Download: ${alignr}${totaldown eth0}
</span><span class='line'>${font PizzaDude Bullets:size=10}a${font DejaVu Sans:size=10}   Local IP: ${alignr}${addr eth0}
</span><span class='line'>${font PizzaDude Bullets:size=10}b${font DejaVu Sans:size=10}   Public IP: ${alignr}${execi 1800 ~/.conky/scripts/ip.sh}#
</span><span class='line'>${endif}${endif}
</span><span class='line'># *** PROCESS ***
</span><span class='line'>${voffset 16}${font DejaVu Sans:size=12}PROCESSES${font DejaVu Sans:size=10} ${hr}
</span><span class='line'>NAME $alignr CPU%  MEM%
</span><span class='line'>${top name 1} $alignr ${top cpu 1}   ${top mem 1}
</span><span class='line'>${top name 2} $alignr ${top cpu 2}   ${top mem 2}
</span><span class='line'>${top name 3} $alignr ${top cpu 3}   ${top mem 3}
</span><span class='line'>${top name 4} $alignr ${top cpu 4}   ${top mem 4}
</span><span class='line'>${top name 5} $alignr ${top cpu 5}   ${top mem 5}
</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[yad]]></title>
    <link href="http://ktkr3d.github.io/blog/2013/10/08/yad/"/>
    <updated>2013-10-08T23:26:00+09:00</updated>
    <id>http://ktkr3d.github.io/blog/2013/10/08/yad</id>
    <content type="html"><![CDATA[<p><a href="http://ktkr3d.github.io/images/zenity_yad.png"><img src="http://ktkr3d.github.io/images/zenity_yad_tn.png"></a></p>

<p>GTK+ 3.10 の環境(Fedora 20 Alpha, Ubuntu GNOME 13.10 Beta)で、zenity の<code>--list</code> オプションが正しく表示されないので、代わりにzenity のフォークであるyad(yet another dialog)を使ってみました。
ただし、yad の<code>--progress --pulsate</code> オプションはzenity と仕様が異なるようなので、リストボックスを表示する部分のみに対してyad を使うことにしました。</p>

<!-- more -->


<h4>yad インストール</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>sudo add-apt-repository ppa:webupd8team/y-ppa-manager
</span><span class='line'>sudo apt-get update
</span><span class='line'>sudo apt-get install yad
</span></code></pre></td></tr></table></div></figure>


<h4>yad &amp; zenity スクリプト</h4>

<figure class='code'><figcaption><span>octopress_helper_yad</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c">#!/bin/bash</span>
</span><span class='line'>
</span><span class='line'><span class="nv">OCTOPRESS_DIR</span><span class="o">=</span>/mnt/common/github/octopress
</span><span class='line'>
</span><span class='line'><span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:<span class="nv">$HOME</span>/bin:<span class="nv">$HOME</span>/.rvm/bin <span class="c"># Add RVM to PATH for scripting</span>
</span><span class='line'><span class="nb">source</span> <span class="nv">$HOME</span>/.rvm/scripts/rvm
</span><span class='line'><span class="nb">cd</span> <span class="nv">$OCTOPRESS_DIR</span>
</span><span class='line'>
</span><span class='line'><span class="k">while</span> :
</span><span class='line'><span class="k">do</span>
</span><span class='line'><span class="k">  </span><span class="nv">pick</span><span class="o">=</span><span class="k">$(</span>yad --height<span class="o">=</span>300 --width<span class="o">=</span>300 --print-column<span class="o">=</span>2 --list --title <span class="s2">&quot;OctoPress Helper&quot;</span> --text <span class="s2">&quot;Select Action.&quot;</span> --radiolist --column Pick --column dummy --column Action --hide-column 2 <span class="nb">true </span>0 <span class="s2">&quot;New Post&quot;</span> <span class="nb">false </span>1 <span class="s2">&quot;New Page&quot;</span> <span class="nb">false </span>2 <span class="s2">&quot;Generate&quot;</span> <span class="nb">false </span>3 <span class="s2">&quot;Deploy&quot;</span> <span class="nb">false </span>4 <span class="s2">&quot;Preview&quot;</span> <span class="nb">false </span>5 <span class="s2">&quot;Open Posts Folder&quot;</span> <span class="nb">false </span>6 <span class="s2">&quot;Push Source&quot;</span><span class="k">)</span>;
</span><span class='line'>  <span class="k">case</span> <span class="nv">$pick</span> in
</span><span class='line'>      <span class="s2">&quot;0|&quot;</span><span class="o">)</span>
</span><span class='line'>          <span class="nv">post_title</span><span class="o">=</span><span class="k">$(</span>zenity --entry --title<span class="o">=</span><span class="s2">&quot;New Post&quot;</span> --text<span class="o">=</span><span class="s2">&quot;Enter Title.&quot;</span> <span class="k">)</span>
</span><span class='line'>          <span class="k">if</span> <span class="o">[</span> <span class="k">${#</span><span class="nv">post_title</span><span class="k">}</span> &gt; 0 <span class="o">]</span> ; <span class="k">then</span>
</span><span class='line'><span class="k">              </span>rake new_post<span class="o">[</span><span class="s2">&quot;$post_title&quot;</span><span class="o">]</span> &gt;<span class="o">(</span>yad --progress --title<span class="o">=</span><span class="s2">&quot;New Post&quot;</span> --pulsate --auto-close --auto-kill<span class="o">)</span>
</span><span class='line'>          <span class="k">fi</span>
</span><span class='line'>          ;;
</span><span class='line'>      <span class="s2">&quot;1|&quot;</span><span class="o">)</span>
</span><span class='line'>          <span class="nv">page_title</span><span class="o">=</span><span class="k">$(</span>zenity --entry --title<span class="o">=</span><span class="s2">&quot;New Page&quot;</span> --text<span class="o">=</span><span class="s2">&quot;Enter Title.&quot;</span> <span class="k">)</span>
</span><span class='line'>          <span class="k">if</span> <span class="o">[</span> <span class="k">${#</span><span class="nv">page_title</span><span class="k">}</span> &gt; 0 <span class="o">]</span> ; <span class="k">then</span>
</span><span class='line'><span class="k">              </span>rake new_page<span class="o">[</span><span class="s2">&quot;$page_title&quot;</span><span class="o">]</span> &gt;<span class="o">(</span>yad --progress --title<span class="o">=</span><span class="s2">&quot;New Page&quot;</span> --pulsate --auto-close --auto-kill<span class="o">)</span>
</span><span class='line'>          <span class="k">fi</span>
</span><span class='line'>          ;;
</span><span class='line'>      <span class="s2">&quot;2|&quot;</span><span class="o">)</span>
</span><span class='line'>          rake generate &gt;<span class="o">(</span>zenity --progress --title<span class="o">=</span><span class="s2">&quot;Generate&quot;</span> --pulsate --auto-close --auto-kill<span class="o">)</span>
</span><span class='line'>          ;;
</span><span class='line'>      <span class="s2">&quot;3|&quot;</span><span class="o">)</span>
</span><span class='line'>          rake deploy &gt;<span class="o">(</span>zenity --progress --title<span class="o">=</span><span class="s2">&quot;Deploy&quot;</span> --pulsate --auto-close --auto-kill<span class="o">)</span>
</span><span class='line'>          ;;
</span><span class='line'>      <span class="s2">&quot;4|&quot;</span><span class="o">)</span>
</span><span class='line'>          rake preview &gt;<span class="o">(</span>zenity --progress --title<span class="o">=</span><span class="s2">&quot;Preview&quot;</span> --pulsate --auto-close --auto-kill<span class="o">)</span>
</span><span class='line'>          ;;
</span><span class='line'>      <span class="s2">&quot;5|&quot;</span><span class="o">)</span>
</span><span class='line'>          nautilus <span class="nv">$OCTOPRESS_DIR</span>/source/_posts/ &amp;
</span><span class='line'>          ;;
</span><span class='line'>      <span class="s2">&quot;6|&quot;</span><span class="o">)</span>
</span><span class='line'>          git add . <span class="o">&amp;&amp;</span> git commit -m <span class="s1">&#39;update&#39;</span> <span class="o">&amp;&amp;</span> git push -u origin <span class="nb">source</span> &gt;<span class="o">(</span>zenity --progress --title<span class="o">=</span><span class="s2">&quot;Push Source&quot;</span> --pulsate --auto-close --auto-kill<span class="o">)</span>
</span><span class='line'>          ;;
</span><span class='line'>      *<span class="o">)</span>
</span><span class='line'>          <span class="nb">break</span>
</span><span class='line'>          ;;
</span><span class='line'>  <span class="k">esac</span>
</span><span class='line'><span class="k">done</span>
</span></code></pre></td></tr></table></div></figure>


<p></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Fedora 20]]></title>
    <link href="http://ktkr3d.github.io/blog/2013/10/05/fedora-20/"/>
    <updated>2013-10-05T20:14:00+09:00</updated>
    <id>http://ktkr3d.github.io/blog/2013/10/05/fedora-20</id>
    <content type="html"><![CDATA[<p><a href="http://ktkr3d.github.io/images/fedora_20.png"><img src="http://ktkr3d.github.io/images/fedora_20_tn.png"></a></p>

<p>Fedora 20 alpha + GNOME Shell 3.10 をインストールしてみました。</p>

<h4>Fedora 20 alpha</h4>

<p><code>https://fedoraproject.org/ja/get-prerelease</code></p>

<h4>RPM Fusion</h4>

<p><code>http://rpmfusion.org/Configuration</code></p>

<h4>その他の設定</h4>

<ul>
<li>Autohide Top Bar extension</li>
<li>Cairo-Dock</li>
<li>Bluetooth Keyboard</li>
<li>VNC Server<br/>
  <code>sudo yum install vino</code> を実行すると、[設定]&ndash;[共有]&ndash;[画面共有]メニューが有効になる。クライアントからはSSH トンネル経由で接続する。</li>
</ul>


<!-- more -->


<h4>Android からインターネット経由の通信と接続ツール</h4>

<ul>
<li>SSH (Connect Bot)
  <code>https://play.google.com/store/apps/details?id=org.connectbot</code></li>
<li>VNC over SSH (bVNC Free)
  <code>https://play.google.com/store/apps/details?id=com.iiordanov.freebVNC</code><br/>
  SSH 上で、ターゲットホストへ接続</li>
<li>Samba over SSH (SSH Tunnel)
  <code>https://play.google.com/store/apps/details?id=org.sshtunnel</code><br/>
  SSH 上で、ローカルの10445 をリモートの445 にポートフォワード</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Irrlicht Android Media Player]]></title>
    <link href="http://ktkr3d.github.io/blog/2013/08/11/irrlicht-android-media-player/"/>
    <updated>2013-08-11T03:47:00+09:00</updated>
    <id>http://ktkr3d.github.io/blog/2013/08/11/irrlicht-android-media-player</id>
    <content type="html"><![CDATA[<p><a href="http://ktkr3d.github.io/images/irrlicht_android_player_tab.png"><img src="http://ktkr3d.github.io/images/irrlicht_android_player_tab_tn.png"></a></p>

<p>Android のNative Activity で実装したアプリからオーディオの再生ができたので、ミクさんが踊ってくれるメディアプレイヤー的なものにしてみました。</p>

<!-- more -->


<h4>PMD とVMD のロード処理の修正</h4>

<p>以前のソースコードがHDD の故障とともに消えてしまったので、コードやMakefile を書きなおしていたところ、うまくロードできないPMD、VMD があることに気が付きました。
BinaryReader のロード処理で、プロセッサ種別に依存してうまく取り込めない(ARM CPU で構造体のアラインメントが異なる)のが原因のようです。<br/>
以前のバージョンのコンパイラ＋古いバージョンのAndroid デバイスでは動いていたような気がするのに。
原因は単純なので修正しておきました。</p>

<h4>Native Activity からのWakeLock の制御</h4>

<p>少し経つと画面が暗くなって、画面が非表示状態になります。
PowerManager のWakeLock を制御すれば良さそうです。
Android NDK のNative Activity の場合はJNI を経由してPower Manager へアクセスするのかな。
後で調べておこう。</p>

<h4>画面インタフェース</h4>

<ul>
<li><strong>パネル表示切替ボタン「⇅」</strong><br/>
画面下部の設定用のインタフェースの表示/非表示を切り替える。曲目リスト、モデルリスト、環境設定のタブがある。</li>
<li><strong>ミュート切替ボタン「♪」</strong><br/>
音声の出力状態を切り替える。OpenSL ES の<code>(*uriPlayerVolume)-&gt;SetMute()</code>をコールしている。</li>
<li><strong>再生/停止切替ボタン「▶」</strong><br/>
モーションと音声の再生/停止を切り替える。アニメーションスピードの切り替えと<code>(*uriPlayerPlay)-&gt;SetPlayState()</code>をコールしている。モデルまたは曲を変更した場合は最初から開始する。</li>
<li><strong>終了ボタン「×」</strong><br/>
アプリケーションを終了する。</li>
<li><strong>カメラ位置スクロールバー</strong><br/>
カメラの位置を前後させる。</li>
</ul>


<h4>TODO</h4>

<ul>
<li><code>state-&gt;onAppCmd</code> にコールバック関数を設定しているのにキックされない原因を調べる。</li>
<li><code>pFileSystem-&gt;createFileList()</code> が失敗する原因を調べる。</li>
<li>タスク復帰時に描画コンテキストをリストアする。</li>
<li>GUI のSkin を変更する。</li>
<li>Android 固有の入力イベントに対応する。</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Compiling Irrlicht ogl-es branch for Android]]></title>
    <link href="http://ktkr3d.github.io/blog/2013/08/04/compiling-irrlicht-ogl-es-branch-for-android/"/>
    <updated>2013-08-04T04:04:00+09:00</updated>
    <id>http://ktkr3d.github.io/blog/2013/08/04/compiling-irrlicht-ogl-es-branch-for-android</id>
    <content type="html"><![CDATA[<p><a href="http://ktkr3d.github.io/images/irrlicht_ogl-es_android.png"><img src="http://ktkr3d.github.io/images/irrlicht_ogl-es_android_tn.png"></a></p>

<ul>
<li>Compiling Irrlicht ogl-es branch for Android on Ubuntu GNOME 13.10 x86_64.</li>
<li>Native C/C++ Android Application (Native Activity).</li>
<li>Fullscreen (1080x1920)</li>
<li>Input Event Receiver</li>
<li>True Type Font (FreeType2)</li>
<li>OpenSL ES (Native Audio)</li>
</ul>


<!-- more -->


<h4>Environment</h4>

<ul>
<li>Android SDK: 22.0.5</li>
<li>Android NDK: r9</li>
<li>Android Device: Android 4.1.2 (API level 16)</li>
<li>Irrlicht 1.9 [r4528]</li>
</ul>


<h4>Download Irrlicht ogl-es branch</h4>

<p><code>http://sourceforge.net/p/irrlicht/code/</code></p>

<ol>
<li>Select <code>branches</code>, <code>ogl-es</code>, <code>Download Snapshot</code>.</li>
<li>Download.</li>
<li>Extract.</li>
</ol>


<h4>Compile Irrlicht Library</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span><span class="nb">cd source</span>/Irrlicht/Andorid
</span><span class='line'><span class="nv">$ </span>ndk-build -j4
</span></code></pre></td></tr></table></div></figure>


<p>&ndash;> <code>lib/Android/libirrlicht.a</code></p>

<h4>Build example</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span><span class="nb">cd </span>examples/17.HelloWorld_Mobile
</span><span class='line'><span class="nv">$ </span>android update project --path . --target android-16
</span><span class='line'><span class="nv">$ </span>ndk-build -j4
</span><span class='line'><span class="nv">$ </span>ant debug
</span></code></pre></td></tr></table></div></figure>


<p>&ndash;> <code>examples/17.HellowWorld_Mobile/HelloWorldMobile-debug.apk</code></p>

<h4>TrueType Font</h4>

<p><code>include/irrUString.h</code>, <code>jni/CGUITTFont.h</code>, <code>jni/CGUITTFont.cpp</code></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Zenity OctoPress Helper]]></title>
    <link href="http://ktkr3d.github.io/blog/2013/07/15/zenity-octopress-helper/"/>
    <updated>2013-07-15T13:26:00+09:00</updated>
    <id>http://ktkr3d.github.io/blog/2013/07/15/zenity-octopress-helper</id>
    <content type="html"><![CDATA[<p><a href="http://ktkr3d.github.io/images/zenity_octopress_menu.png"><img src="http://ktkr3d.github.io/images/zenity_octopress_menu.png"></a></p>

<p>OctoPress のフロントエンドをZenity で作ってみました。
Web ベースのUI を作っている方もいるようですが、とりあえずこれでもお手軽になりました。</p>

<!-- more -->


<h4>zenity スクリプト</h4>

<p><a href="http://ktkr3d.github.io/images/zenity_octopress_new_post.png"><img src="http://ktkr3d.github.io/images/zenity_octopress_new_post.png"></a><br>
<a href="http://ktkr3d.github.io/images/zenity_octopress_deploy.png"><img src="http://ktkr3d.github.io/images/zenity_octopress_deploy.png"></a></p>

<p>Zenity のリストボックス、テキスト入力、プログレスバー等を利用して、フロントエンドを作成します。</p>

<figure class='code'><figcaption><span>octopress_helper.sh</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="c">#!/bin/bash</span>
</span><span class='line'>
</span><span class='line'><span class="nv">OCTOPRESS_DIR</span><span class="o">=</span>/mnt/common/github/octopress
</span><span class='line'>
</span><span class='line'><span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:<span class="nv">$HOME</span>/bin:<span class="nv">$HOME</span>/.rvm/bin <span class="c"># Add RVM to PATH for scripting</span>
</span><span class='line'><span class="nb">source</span> <span class="nv">$HOME</span>/.rvm/scripts/rvm
</span><span class='line'><span class="nb">cd</span> <span class="nv">$OCTOPRESS_DIR</span>
</span><span class='line'>
</span><span class='line'><span class="k">while</span> :
</span><span class='line'><span class="k">do</span>
</span><span class='line'><span class="k">  </span><span class="nv">pick</span><span class="o">=</span><span class="k">$(</span>zenity --list --title <span class="s2">&quot;OctoPress Helper&quot;</span> --text <span class="s2">&quot;Select Action.&quot;</span> --radiolist --column Pick --column dummy --column Action --hide-column 2 <span class="nb">true </span>0 <span class="s2">&quot;New Post&quot;</span> <span class="nb">false </span>1 <span class="s2">&quot;New Page&quot;</span> <span class="nb">false </span>2 <span class="s2">&quot;Generate&quot;</span> <span class="nb">false </span>3 <span class="s2">&quot;Deploy&quot;</span> <span class="nb">false </span>4 <span class="s2">&quot;Preview&quot;</span> <span class="nb">false </span>5 <span class="s2">&quot;Open Posts Folder&quot;</span> <span class="nb">false </span>6 <span class="s2">&quot;Push Source&quot;</span><span class="k">)</span>;
</span><span class='line'>  <span class="k">case</span> <span class="nv">$pick</span> in
</span><span class='line'>      0<span class="o">)</span>
</span><span class='line'>          <span class="nv">post_title</span><span class="o">=</span><span class="k">$(</span>zenity --entry --title<span class="o">=</span><span class="s2">&quot;New Post&quot;</span> --text<span class="o">=</span><span class="s2">&quot;Enter Title.&quot;</span> <span class="k">)</span>
</span><span class='line'>          <span class="k">if</span> <span class="o">[</span> <span class="k">${#</span><span class="nv">post_title</span><span class="k">}</span> &gt; 0 <span class="o">]</span> ; <span class="k">then</span>
</span><span class='line'><span class="k">              </span>rake new_post<span class="o">[</span><span class="s2">&quot;$post_title&quot;</span><span class="o">]</span> &gt;<span class="o">(</span>zenity --progress --title<span class="o">=</span><span class="s2">&quot;New Post&quot;</span> --pulsate --auto-close --auto-kill<span class="o">)</span>
</span><span class='line'>          <span class="k">fi</span>
</span><span class='line'>          ;;
</span><span class='line'>      1<span class="o">)</span>
</span><span class='line'>          <span class="nv">page_title</span><span class="o">=</span><span class="k">$(</span>zenity --entry --title<span class="o">=</span><span class="s2">&quot;New Page&quot;</span> --text<span class="o">=</span><span class="s2">&quot;Enter Title.&quot;</span> <span class="k">)</span>
</span><span class='line'>          <span class="k">if</span> <span class="o">[</span> <span class="k">${#</span><span class="nv">page_title</span><span class="k">}</span> &gt; 0 <span class="o">]</span> ; <span class="k">then</span>
</span><span class='line'><span class="k">              </span>rake new_page<span class="o">[</span><span class="s2">&quot;$page_title&quot;</span><span class="o">]</span> &gt;<span class="o">(</span>zenity --progress --title<span class="o">=</span><span class="s2">&quot;New Page&quot;</span> --pulsate --auto-close --auto-kill<span class="o">)</span>
</span><span class='line'>          <span class="k">fi</span>
</span><span class='line'>          ;;
</span><span class='line'>      2<span class="o">)</span>
</span><span class='line'>          rake generate &gt;<span class="o">(</span>zenity --progress --title<span class="o">=</span><span class="s2">&quot;Generate&quot;</span> --pulsate --auto-close --auto-kill<span class="o">)</span>
</span><span class='line'>          ;;
</span><span class='line'>      3<span class="o">)</span>
</span><span class='line'>          rake deploy &gt;<span class="o">(</span>zenity --progress --title<span class="o">=</span><span class="s2">&quot;Deploy&quot;</span> --pulsate --auto-close --auto-kill<span class="o">)</span>
</span><span class='line'>          ;;
</span><span class='line'>      4<span class="o">)</span>
</span><span class='line'>          rake preview &gt;<span class="o">(</span>zenity --progress --title<span class="o">=</span><span class="s2">&quot;Preview&quot;</span> --pulsate --auto-close --auto-kill<span class="o">)</span>
</span><span class='line'>          ;;
</span><span class='line'>      5<span class="o">)</span>
</span><span class='line'>          nautilus <span class="nv">$OCTOPRESS_DIR</span>/source/_posts/ &amp;
</span><span class='line'>          ;;
</span><span class='line'>      6<span class="o">)</span>
</span><span class='line'>          git add . <span class="o">&amp;&amp;</span> git commit -m <span class="s1">&#39;update&#39;</span> <span class="o">&amp;&amp;</span> git push -u origin <span class="nb">source</span> &gt;<span class="o">(</span>zenity --progress --title<span class="o">=</span><span class="s2">&quot;Push Source&quot;</span> --pulsate --auto-close --auto-kill<span class="o">)</span>
</span><span class='line'>          ;;
</span><span class='line'>      *<span class="o">)</span>
</span><span class='line'>          <span class="nb">break</span>
</span><span class='line'>          ;;
</span><span class='line'>  <span class="k">esac</span>
</span><span class='line'><span class="k">done</span>
</span></code></pre></td></tr></table></div></figure>


<h4>起動用ショートカットアイコン</h4>

<p>起動用のショートカットファイル<code>octopress_helper.desktop</code>を作成してドックにドラッグ&amp;ドロップします。
端末を非表示にする場合は<code>Terminal=false</code>とします。</p>

<figure class='code'><figcaption><span>octopress_helper.desktop</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='text'><span class='line'>[Desktop Entry]
</span><span class='line'>Encoding=UTF-8
</span><span class='line'>Name=OctoPress Helper
</span><span class='line'>Exec=/mnt/common/home/Script/octopress_helper.sh
</span><span class='line'>Icon=/usr/share/pixmaps/octopress.png
</span><span class='line'>Terminal=true
</span><span class='line'>Type=Application
</span><span class='line'>Categories=Application;
</span><span class='line'>StartupNotify=false
</span></code></pre></td></tr></table></div></figure>


<h4>プレビュー</h4>

<p>私は <code>rake preview</code> をログイン時に常駐させて、ブラウザから <code>http://localhost:4000/</code> にアクセスしてレイアウト結果を確認しています。フォルダ内の変更が監視されるので、多少の負荷はあるかもしれません。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[GNOME Shell Lock Screen]]></title>
    <link href="http://ktkr3d.github.io/blog/2013/07/15/gnome-shell-lock-screen/"/>
    <updated>2013-07-15T08:57:00+09:00</updated>
    <id>http://ktkr3d.github.io/blog/2013/07/15/gnome-shell-lock-screen</id>
    <content type="html"><![CDATA[<p><a href="http://ktkr3d.github.io/images/gnome_shell_lock_screen.png"><img src="http://ktkr3d.github.io/images/gnome_shell_lock_screen.png"></a></p>

<p>GNOME Shell のロック画面で表示される時刻のフォントの上部が欠けていたので、暫定対策しました。</p>

<!-- more -->


<h4>ロック画面のフォントの変更</h4>

<p><code>font-family: "DejaVu Sans";</code>でフォントファミリーを指定しています。</p>

<figure class='code'><figcaption><span>/usr/share/gnome-shell/theme/gnome-shell.css</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='css'><span class='line'><span class="nc">.screen-shield-clock-time</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">font-family</span><span class="o">:</span> <span class="s2">&quot;DejaVu Sans&quot;</span><span class="p">;</span>
</span><span class='line'>    <span class="k">font-size</span><span class="o">:</span> <span class="m">64pt</span><span class="p">;</span>
</span><span class='line'>    <span class="k">text-shadow</span><span class="o">:</span> <span class="m">0px</span> <span class="m">2px</span> <span class="m">2px</span> <span class="n">rgba</span><span class="p">(</span><span class="m">0</span><span class="o">,</span><span class="m">0</span><span class="o">,</span><span class="m">0</span><span class="o">,</span><span class="m">0</span><span class="o">.</span><span class="m">4</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="nc">.screen-shield-clock-date</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">font-family</span><span class="o">:</span> <span class="s2">&quot;DejaVu Sans&quot;</span><span class="p">;</span>
</span><span class='line'>    <span class="k">font-size</span><span class="o">:</span> <span class="m">24pt</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<h4>設定の反映</h4>

<p>設定を反映するには、<code>Alt + F2</code> を押下、<code>r</code> を入力して<code>Enter</code>で、GNOME Shell を再起動します。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Docky + Cardapio]]></title>
    <link href="http://ktkr3d.github.io/blog/2013/07/14/docky-plus-cardapio/"/>
    <updated>2013-07-14T11:11:00+09:00</updated>
    <id>http://ktkr3d.github.io/blog/2013/07/14/docky-plus-cardapio</id>
    <content type="html"><![CDATA[<p><a href="http://ktkr3d.github.io/images/docky_cardapio.png"><img src="http://ktkr3d.github.io/images/docky_cardapio_tn.png"></a></p>

<p>Ubuntu 13.10 + GNOME Shell 3.9.4 上で、Docky に移行して困ったことは、以下でした。</p>

<ol>
<li>電源ボタンが無いこと</li>
<li>アプリケーションメニューがないこと</li>
</ol>


<p>Docky とCardapio の設定で上記を動くようにしてみました。</p>

<!-- more -->


<p></p>

<h4>電源ボタンの設定</h4>

<p>一番右の「画面のロック」アイコンを右クリックすることで、「画面のロック」、「ログアウト」、「サスペンド」、「再起動」、「シャットダウン」のようなサブメニューが表示されます。
「画面のロック」のアイコン上でマウスのホイールボタンで上下にホイールすると、デフォルトの動作を指定できます。
ボタン押下後に再起動かシャットダウンかを選択させる形式がよかったのですが、とりあえずこれで良しとしましょう。</p>

<h4>Cardapio の設定</h4>

<p>Cardapio を使ってDocky からアプリケーションメニューを表示することにします。</p>

<pre><code>$ sudo add-apt-repository ppa:cardapio-team/unstable
$ sudo apt-get update
$ sudo apt-get install cardapio
</code></pre>

<p>saucy 向けのCardapio が存在しなかったので、ソフトウェアソースをquantal 向けに切り替えてインストールしました。
cardapio を起動してみたところ、いくつかエラーが表示されたので、<code>/usr/lib/cardapio/Cardapio.py</code> を修正しました。</p>

<ol>
<li><p>以下を追加<br>
<code>from xdg import BaseDirectory</code></p></li>
<li><p>以下を置換<br>
<code>DesktopEntry.xdg_config_home</code> &ndash;> <code>BaseDirectory.xdg_config_home</code></p></li>
<li><p>以下を置換<br>
<code>DesktopEntry.xdg_cache_home</code> &ndash;> <code>BaseDirectory.xdg_cache_home</code></p></li>
</ol>


<h4>Docky へCardapio を登録</h4>

<p>cardapio-helper というDocky のヘルパーを使うと、Docky アイコンクリックで、Cardapio が起動されるはずなのですが、うまく動作しませんでした。
仕方がないので、<code>/usr/share/applications/cardapio.desktop</code> をDocky にドラッグ&amp;ドロップして、メニューアイコンを登録しました。</p>
]]></content>
  </entry>
  
</feed>
